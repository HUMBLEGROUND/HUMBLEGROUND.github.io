I"LY<p><img src="https://velog.velcdn.com/images/-__-/post/87710de9-fc87-4251-bc66-fd387bbf9b66/image.png" alt="" /></p>

<h3 id="-project-lion-nft-ë¸”ë¡ì²´ì¸-ë§ˆì¼“-ì•±-ë§Œë“¤ê¸°-with-ê·¸ë¼ìš´ë“œx-3ê¸°---ì±•í„°-4-6-íšŒê³ ">ğŸ¦ [PROJECT LION] NFT ë¸”ë¡ì²´ì¸ ë§ˆì¼“ ì•± ë§Œë“¤ê¸° with ê·¸ë¼ìš´ë“œX 3ê¸° - ì±•í„° 4-6 íšŒê³ </h3>

<hr />

<h3 id="klip">Klip</h3>

<p>Klipì€ ëª¨ë°”ì¼ìš© ë¸”ë¡ì²´ì¸ ì§€ê°‘ ì„œë¹„ìŠ¤ì´ë‹¤<br />
ğŸ‘‰ ì¹´ì¹´ì˜¤í†¡ì— ì—°ë™ë˜ì–´ ë©”ì‹ ì €ë§Œí¼ ì‰¬ìš´ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•œë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/f73d7dc5-d4f7-40ca-a358-a28bd3d90a8a/image.png" alt="" /></p>

<hr />

<h3 id="klip-api">Klip API</h3>

<p>Klip APIëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ì—ì„œ APIë¥¼ í†µí•´<br />
Klipì— ìˆëŠ” í† í°ì„ ì „ì†¡í•˜ê±°ë‚˜<br />
NFT ë°œí–‰ &amp; ì¡°íšŒ &amp; ì „ì†¡ &amp; ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤</p>

<p><a href="https://docs.klipwallet.com/">https://docs.klipwallet.com/</a><br />
(ğŸ‘† Klip Docs)</p>

<hr />

<h3 id="klip-apië¥¼-ì´ìš©í•˜ì—¬-klip-ì§€ê°‘-ì—°ë™-ë©”ì¸ë„·">Klip APIë¥¼ ì´ìš©í•˜ì—¬ Klip ì§€ê°‘ ì—°ë™ (ë©”ì¸ë„·)</h3>

<p>-1. Klaytn IDE ì—ì„œ ê°„ë‹¨í•œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  <strong>ë°°í¬(Deploy)</strong></p>

<p>ğŸ‘‰ ì¹´ìš´í„° ìˆ«ìë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” ì˜ˆì œ</p>

<blockquote>
  <p>â­ Klip ì€ í…ŒìŠ¤íŠ¸ë„·(Baobab) ì—ì„œ ì‹¤í–‰ì„ ëª»í•˜ê¸°ë•Œë¬¸ì—<br />
ë©”ì¸ë„·ì—ì„œ ì‚¬ìš©í•  <strong>ì‹¤ì œ KLAY</strong> ê°€ í•„ìš”í•˜ë‹¤ â—</p>
</blockquote>

<p><img src="https://velog.velcdn.com/images/-__-/post/09b09cee-7244-41e2-8c39-363acc5bdc33/image.png" alt="" /></p>

<blockquote>
  <p>ë°°í¬í•˜ê³  ë‚˜ì˜¨ <span style="background-color:#FFC701; color:#000;">ABI / ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ</span> ë¥¼ ë³µì‚¬í•œë‹¤</p>
</blockquote>

<hr />

<p>-2. <strong>ABI / ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ</strong> ë¥¼ ì…ë ¥í•˜ê³  <code class="language-plaintext highlighter-rouge">axios</code> ë¥¼ ì´ìš©í•´ API í˜¸ì¶œì„ í•œë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/a86f2b15-5d4c-4756-b1dd-f296fad04679/image.png" alt="" /></p>

<blockquote>
  <p>ì´ë•Œ â— <strong>ABI ëŠ” ë‹¤ ê°€ì ¸ì˜¤ì§€ì•Šê³  ë‚´ê°€ í˜¸ì¶œí•˜ê³ ì‹¶ì€ (ë³€ê²½í•˜ê³ ì‹¶ì€ ê°’) ì»¨íŠ¸ë™íŠ¸ë§Œ ê°€ì ¸ì™€ì„œ ë¶™ì—¬ë„£ëŠ”ë‹¤</strong> (setCount)</p>
</blockquote>

<blockquote>
  <p><a href="https://docs.klipwallet.com/rest-api/rest-api-a2a">https://docs.klipwallet.com/rest-api/rest-api-a2a</a><br />
(ğŸ‘† API ì½”ë“œëŠ” Klip Docsì— ë‚˜ì™€ìˆìŒ)</p>
</blockquote>

<hr />

<p>-3. ì•ì— ì‘ì„±ëœ ì½”ë“œì— ì´ì–´ì„œ <code class="language-plaintext highlighter-rouge">request_key</code> ê°’ì„ ì´ìš©í•´ì„œ APIë¥¼ ê°€ì ¸ì˜¤ê³  ì½œë°±í•¨ìˆ˜ <code class="language-plaintext highlighter-rouge">setQrCodeValue</code> ì— ë‹´ì•„ì¤€ë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/7c0daaf1-66ff-4573-994b-ae5222bf9396/image.png" alt="" /></p>

<hr />

<p>-4. <code class="language-plaintext highlighter-rouge">App.js</code> ë¡œ ëŒì•„ì™€ì„œ <strong>Klip</strong> ì§€ê°‘ ì—°ë™ì„ ìœ„í•´ QRì½”ë“œ ìƒì„±í•´ì¤€ë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/cc1b0768-2867-4580-a38c-e80c7f547143/image.png" alt="" /></p>

<blockquote>
  <p>ğŸ‘† ì½œë°±í•¨ìˆ˜ë¡œ ë°›ì•˜ë˜ ìë¦¬ì— <strong>setState</strong> ê°’ì„ ëŒ€ì…í•´ì„œ QRì½”ë“œ value ê°’ì„ ë°”ê¿”ì¤€ë‹¤</p>
</blockquote>

<hr />

<p>-5. <code class="language-plaintext highlighter-rouge">npm run start</code> ë¡œ ì‹¤í–‰ì‹œí‚¨ë’¤ í™•ì¸í•´ë³´ë©´ ê¸°ë³¸ê°’ì¸ QRì½”ë“œê°€ ë‚˜ì˜¨ë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/6f7c3c1f-f512-44cd-abbe-aad01ebaf025/image.gif" alt="" /></p>

<blockquote>
  <p>ğŸ‘† ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ <strong>Klip ì§€ê°‘ ì—°ê²°</strong> QRì½”ë“œì™€<br />
<strong>ì»¨íŠ¸ë™íŠ¸ ê°’ì„ ë³€ê²½</strong>í•˜ëŠ” QRì½”ë“œê°€ ìƒì„± ëœë‹¤</p>
</blockquote>

<hr />

<p>-6. <code class="language-plaintext highlighter-rouge">ì¹´ìš´íŠ¸ ê°’ ë³€ê²½</code> ë²„íŠ¼ì„ ëˆŒëŸ¬ ìƒì„±í•œ QRì½”ë“œë¥¼ <strong>â€˜ìŠ¤ë§ˆíŠ¸í°â€™</strong> ìœ¼ë¡œ ìŠ¤ìº”í•´ë³´ë©´ <strong>Klip ë¡œê·¸ì¸ì°½</strong>ì´ ë‚˜ì˜¨ë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/f4da7352-df0c-4d9f-9c2f-ee67854b52fa/image.png" alt="" /></p>

<blockquote>
  <p>ğŸ‘† ë°°í¬í• ë•Œ ë‚˜ì˜¨ <strong>ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ</strong>ê°€ Klip ì—ë„ ë˜‘ê°™ì´ ë‚˜ì˜¤ëŠ”ê±¸ í™•ì¸ í•  ìˆ˜ ìˆë‹¤</p>
</blockquote>

<hr />

<p>-7. Klip ì§€ê°‘ì„ ì—°ê²°í•˜ë©´ ì½˜ì†”ì°½ì— <code class="language-plaintext highlighter-rouge">"status" : "pending"</code> ì´ë¼ëŠ” íŠ¸ëœì­ì…˜ ë°œìƒê°’ì´ ì°íŒë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/3cd3bc93-1596-4063-8854-6f0b07aa8a39/image.PNG" alt="" /></p>

<p><img src="https://velog.velcdn.com/images/-__-/post/099f7314-69e0-4ebf-95e4-4ea543453830/image.png" alt="" /></p>

<blockquote>
  <p>ğŸ‘† ë°œìƒí•œ íŠ¸ëœì­ì…˜ì„ <strong>â€˜klaytnscopeâ€™</strong> ì—ì„œ í™•ì¸í•´ë³´ë©´<br />
<strong>pending</strong> ì¤‘ì´ë˜ ìƒíƒœê°€ ğŸ‘‰ <strong>Success</strong> ë¡œ ë°”ê»´ ìˆëŠ”ê±¸í™•ì¸</p>
</blockquote>

<hr />

<p>-8. <strong>Klaytn IDE</strong> ë¡œ ë‹¤ì‹œ ëŒì•„ê°€ì„œ <strong>ì¹´ìš´íŠ¸ ê°’ ë³€ê²½ (ì»¨íŠ¸ë™íŠ¸ ê°’ ë³€ê²½)</strong> ì´ ì˜ ë˜ì—ˆëŠ”ì§€ <code class="language-plaintext highlighter-rouge">count</code> ë¥¼ <strong>í´ë¦­(call)</strong> í•´ë³¸ë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/b6e356b4-c56d-47f3-a5e3-8b36313d221e/image.png" alt="" /></p>

<blockquote>
  <p>ë¦¬ì•¡íŠ¸ ì½”ë“œì—ì„œ ì„¤ì •í•œ <strong>â€˜2000â€™</strong> ê°’ìœ¼ë¡œ ê°’ì´ ë³€ê²½ë˜ì–´ ìˆëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤ â—</p>
</blockquote>

<hr />

<blockquote>
  <h3 id="ì¹´ìš´í„°-ìˆ«ìë¥¼-ì¦ê°€ì‹œí‚¤ëŠ”-ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸-ì˜ˆì œ-ì½”ë“œ">ì¹´ìš´í„° ìˆ«ìë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ì˜ˆì œ ì½”ë“œ</h3>
</blockquote>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// SPDX-License-Identifier: GPL-3.0</span>

<span class="nx">pragma</span> <span class="nx">solidity</span> <span class="o">&gt;=</span><span class="mf">0.4</span><span class="p">.</span><span class="mi">24</span> <span class="o">&lt;=</span><span class="mf">0.5</span><span class="p">.</span><span class="mi">6</span><span class="p">;</span>

<span class="nx">contract</span> <span class="nx">Count</span> <span class="p">{</span>
    <span class="nx">uint256</span> <span class="kr">public</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="kd">function</span> <span class="nx">getBlockNumber</span><span class="p">()</span> <span class="kr">public</span> <span class="nx">view</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">uint256</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">block</span><span class="p">.</span><span class="nx">number</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">uint256</span> <span class="nx">_count</span><span class="p">)</span> <span class="kr">public</span> <span class="p">{</span>
        <span class="nx">count</span> <span class="o">=</span> <span class="nx">_count</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<blockquote>
  <h3 id="klip-ì§€ê°‘-ì—°ë™-í›„-ì»¨íŠ¸ë™íŠ¸-ê°’-ë³€ê²½í•˜ê¸°-ë©”ì¸ë„·">Klip ì§€ê°‘ ì—°ë™ í›„ ì»¨íŠ¸ë™íŠ¸ ê°’ ë³€ê²½í•˜ê¸° (ë©”ì¸ë„·)</h3>
</blockquote>

<p><strong>UseKlip.js</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">axios</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">COUNT_CONTRACT</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0xA914d3Eb961E209906dc76AF341141Bba712b7f9</span><span class="dl">"</span><span class="p">;</span>
<span class="c1">// ë°°í¬í•˜ê³  ë‚˜ì˜¨ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ</span>

<span class="kd">const</span> <span class="nx">A2P_API_PREPARE_URL</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://a2a-api.klipwallet.com/v2/a2a/prepare</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">APP_NAME</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">KLAY_MARKET</span><span class="dl">"</span><span class="p">;</span>
<span class="c1">// ê³µí†µì ìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” URL, íŒŒë¼ë¯¸í„° ğŸ‘‰ ë³€ìˆ˜ë¡œ ì§€ì •í•´ì¤€ë‹¤</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">setCount</span> <span class="o">=</span> <span class="p">(</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setQrCodeValue</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// ì¹´ìš´í„°</span>
  <span class="nx">axios</span>
    <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">A2P_API_PREPARE_URL</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">bapp</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="nx">APP_NAME</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">execute_contract</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">transaction</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">to</span><span class="p">:</span> <span class="nx">COUNT_CONTRACT</span><span class="p">,</span>
        <span class="na">abi</span><span class="p">:</span> <span class="dl">'</span><span class="s1">{ "constant": false, "inputs": [{ "name": "_count", "type": "uint256" }], "name": "setCount", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">params</span><span class="p">:</span> <span class="s2">`[\"</span><span class="p">${</span><span class="nx">count</span><span class="p">}</span><span class="s2">\"]`</span><span class="p">,</span> <span class="c1">// countê°’ì„ ë­˜ë¡œ ë³€ê²½í• ê±´ì§€ (íŒŒë¼ë¯¸í„°ê°’)</span>
      <span class="p">},</span>
    <span class="p">})</span>
    <span class="c1">//     { // í´ë¦½ API ì— ğŸ‘‰ execute_contract ğŸ‘‰ transaction íŒŒë¼ë¯¸í„°</span>
    <span class="c1">//   "transaction": {</span>
    <span class="c1">//     "from": "0x8756...4321", // optional</span>
    <span class="c1">//     "to": "0xA987...4321", // contract address</span>
    <span class="c1">//     "value": "1000000000000000000", // ë‹¨ìœ„ëŠ” peb. 1 KLAY</span>
    <span class="c1">//     "abi": "...",</span>
    <span class="c1">//     "params": "..."</span>
    <span class="c1">//   }</span>
    <span class="c1">// }</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">requestKey</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">request_key</span><span class="p">;</span>
      <span class="c1">// API ë¡œë¶€í„° request_key ê°’</span>
      <span class="kd">const</span> <span class="nx">qrcode</span> <span class="o">=</span> <span class="s2">`https://klipwallet.com/?target=/a2a?request_key=</span><span class="p">${</span><span class="nx">requestKey</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
      <span class="nx">setQrCodeValue</span><span class="p">(</span><span class="nx">qrcode</span><span class="p">);</span>
      <span class="c1">// ì½œë°±í•¨ìˆ˜ì— ë‹´ìŒ</span>

      <span class="kd">let</span> <span class="nx">timeId</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="c1">// ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•œë‹¤ (1ì´ˆë§ˆë‹¤)</span>
        <span class="nx">axios</span>
          <span class="p">.</span><span class="kd">get</span><span class="p">(</span>
            <span class="s2">`https://a2a-api.klipwallet.com/v2/a2a/result?request_key=</span><span class="p">${</span><span class="nx">requestKey</span><span class="p">}</span><span class="s2">`</span>
          <span class="p">)</span> <span class="c1">// result APIì— request_key ê°’</span>
          <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">res2</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
              <span class="c1">// result ê°’ì´ ìˆë‹¤ë©´</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`[Result] </span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">res2</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
              <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">timeId</span><span class="p">);</span> <span class="c1">// ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ë˜ê±¸ ì¤‘ì§€</span>
            <span class="p">}</span>
          <span class="p">});</span>
      <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span> <span class="c1">// 1ì´ˆë§ˆë‹¤</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">getAddress</span> <span class="o">=</span> <span class="p">(</span><span class="nx">setQrCodeValue</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">axios</span>
    <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">A2P_API_PREPARE_URL</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">bapp</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="nx">APP_NAME</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">auth</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">requestKey</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">request_key</span><span class="p">;</span>
      <span class="kd">const</span> <span class="nx">qrcode</span> <span class="o">=</span> <span class="s2">`https://klipwallet.com/?target=/a2a?request_key=</span><span class="p">${</span><span class="nx">requestKey</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
      <span class="nx">setQrCodeValue</span><span class="p">(</span><span class="nx">qrcode</span><span class="p">);</span>

      <span class="kd">let</span> <span class="nx">timeId</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">axios</span>
          <span class="p">.</span><span class="kd">get</span><span class="p">(</span>
            <span class="s2">`https://a2a-api.klipwallet.com/v2/a2a/result?request_key=</span><span class="p">${</span><span class="nx">requestKey</span><span class="p">}</span><span class="s2">`</span>
          <span class="p">)</span>
          <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">res2</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`[Result] </span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">res2</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
              <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">timeId</span><span class="p">);</span>
            <span class="p">}</span>
          <span class="p">});</span>
      <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div>

<hr />

<p><strong>App.js</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">"</span><span class="s2">./App.css</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">QRCode</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">qrcode.react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">KlipAPI</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./api/UseKlip</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">DEFAULT_QR_CODE</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">DEFAULT</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// QRì½”ë“œëŠ” ê¸°ë³¸ DEFAULT ê°’</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">qrvalue</span><span class="p">,</span> <span class="nx">setQrvalue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">DEFAULT_QR_CODE</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">onGetAddress</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// ì£¼ì†Œê°€ì ¸ì˜¤ê¸°</span>
    <span class="nx">KlipAPI</span><span class="p">.</span><span class="nx">getAddress</span><span class="p">(</span><span class="nx">setQrvalue</span><span class="p">);</span>
    <span class="c1">// UseKlip.js ì—ì„œ getAddress í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜´</span>
    <span class="c1">// getAddressì—ì„œ ë°›ëŠ” ì¸ìë¥¼ setStateì— ëŒ€ì…í•œë‹¤</span>
  <span class="p">};</span>
  <span class="kd">const</span> <span class="nx">onCount</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// ì¹´ìš´í„° ë³€ê²½í•˜ê¸°</span>
    <span class="nx">KlipAPI</span><span class="p">.</span><span class="nx">setCount</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="nx">setQrvalue</span><span class="p">);</span>
    <span class="c1">// UseKlip.js ì—ì„œ setCount í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜´</span>
    <span class="c1">// setCountì—ì„œ ë°›ëŠ” ì¸ì / ì½œë°±í•¨ìˆ˜ëŠ” setStateì— ëŒ€ì…í•œë‹¤</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">App</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">button</span>
        <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">onGetAddress</span><span class="p">();</span>
        <span class="p">}}</span>
      <span class="o">&gt;</span>
        <span class="nx">ì£¼ì†Œê°€ì ¸ì˜¤ê¸°</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span>
        <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">onCount</span><span class="p">();</span>
        <span class="p">}}</span>
      <span class="o">&gt;</span>
        <span class="nx">ì¹´ìš´íŠ¸</span> <span class="nx">ê°’</span> <span class="nx">ë³€ê²½</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">QRCode</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">qrvalue</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<hr />
:ET