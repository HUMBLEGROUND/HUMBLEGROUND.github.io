I"û<p><img src="https://velog.velcdn.com/images/-__-/post/f67489a5-c51a-47ae-ae37-9e69d95cd1ae/image.png" alt="" /></p>

<h2 id="ì°¾ì•„ë³´ê²Œëœ-ì´ìœ -">ì°¾ì•„ë³´ê²Œëœ ì´ìœ  ğŸ§</h2>

<p>Node.js ì™€ Expressë¥¼ ì‚¬ìš©í•˜ì—¬ ë°±ì—”ë“œ ì„œë²„ë¥¼ ë§Œë“¤ê³ </p>

<p>í”„ë¡ íŠ¸ì—”ë“œì—ì„œ <strong>Axios</strong> ë¥¼ í™œìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ê°œë°œì„ ì§„í–‰í•˜ëŠ”ë°</p>

<p><strong>Postman</strong> ìœ¼ë¡œëŠ” í†µì‹ ì´ ì˜ë˜ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” í˜¸ì¶œì´ ì•ˆë˜ëŠ” í˜„ìƒ</p>

<p>ğŸ‘‰ <strong>â€˜CORSâ€™</strong> ì—ëŸ¬ ë°œìƒ<br />
ğŸ‘‰ <strong>â€˜CORSâ€™</strong> policy ì˜¤ë¥˜ CORS ì •ì±…ì„ ìœ„ë°˜í•  ë•Œ ë°œìƒ<br />
(êµì°¨ ì¶œì²˜ ë¦¬ì†ŒìŠ¤ ê³µìœ (Cross-Origin Resource Sharing, CORS)</p>

<blockquote>
  <ul>
    <li>http://localhost:3000 (í´ë¼ì´ì–¸íŠ¸)<br /></li>
    <li>http://localhost:8080 (ì„œë²„)</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Postmanì—ì„œëŠ” ì™œ â€˜Corsâ€™ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šì„ê¹Œ?</strong><br /></p>

  <p>â­Â CORS ì •ì±… ìœ„ë°˜ íŒë‹¨Â ê²€ì‚¬ë¥¼ ì‹œí–‰í•˜ëŠ” ì£¼ì²´ëŠ” â€˜ë¸Œë¼ìš°ì €â€™ ì´ë‹¤.<br />
ì„œë²„ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ Postmanì—ì„œ ìš”ì²­ì„ ì‹¤í–‰í• ë• ë¬¸ì œì—†ì´ ì˜ ë™ì‘í•˜ë‹¤ê°€<br />
ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  ë¸Œë¼ìš°ì €ì—ì„œ í†µì‹ ì„ í•˜ëŠ” ìˆœê°„ â€˜Corsâ€™ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤<br /></p>

  <p><span style="background-color:#FE5B05; color:#fff;">ì›ì¸ì€ ë°”ë¡œ â€œë¸Œë¼ìš°ì €â€ì— ìˆë‹¤.</span><br />
ğŸ‘‰ ê·¸ë˜ì„œ ë¸Œë¼ìš°ì € ì—†ì´ ì„œë²„ ê°„ í†µì‹ ì„ ì§„í–‰í•˜ëŠ” Postman ì—ì„œëŠ” â€˜Corsâ€™ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤!</p>
</blockquote>

<hr />

<h2 id="í•´ê²°-ë°©ë²•-">í•´ê²° ë°©ë²• ğŸ˜</h2>

<p><strong>JavaScript</strong> ë¥¼ ì´ìš©í•  ê²½ìš° ë„ë©”ì¸ê³¼ í¬íŠ¸ê°€ ë™ì¼í•´ì•¼í•œë‹¤<br />
corsëŠ” ë‹¤ë¥¸ origin ì˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  ì‹¶ì„ ë•Œ<br />
corsì˜ í‘œì¤€ì„ ì§€ì¼œ ë‹¤ë¥¸ origin ë„ í—ˆìš©í•´ì£¼ëŠ” ê²ƒì´ë‹¤</p>

<blockquote>
  <p>â­ ë³´í†µì€ ì„œë²„(ë°±ì—”ë“œ) ì—ì„œ í•´ê²°í•´ì•¼í•˜ëŠ” ë¬¸ì œë‹¤</p>
</blockquote>

<h3 id="1-nodejs-ì—ì„œ-cors-ë¯¸ë“¤ì›¨ì–´-ì¶”ê°€-ì„±ê³µí•œ-ë°©ë²•">1. node.js ì—ì„œ â€˜cors ë¯¸ë“¤ì›¨ì–´â€™ ì¶”ê°€ (ì„±ê³µí•œ ë°©ë²•)</h3>

<p>1-1. <code class="language-plaintext highlighter-rouge">npm install cors</code> ëª…ë ¹ì–´ë¡œ <strong>â€˜corsâ€™</strong> ì„¤ì¹˜ (ì„œë²„íŒŒì¼ì´ ìˆëŠ” ê²½ë¡œì—)</p>

<p>1-2. <strong>â€˜corsâ€™</strong> ë¥¼ require í•´ì£¼ê³  ì½”ë“œ ì¶”ê°€</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/d20e02ff-19e0-4dbc-a9b0-3122d296ee64/image.png" alt="" /></p>

<blockquote>
  <p>ğŸ‘† ì½”ë“œ ë‹¨ ë‘ì¤„ë§Œìœ¼ë¡œ ì—ëŸ¬ë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤ â—</p>
</blockquote>

<hr />

<h3 id="2-packagejson-ì—ì„œ-proxy-ì„¤ì •-ì‹¤íŒ¨í•œ-ë°©ë²•">2. package.json ì—ì„œ proxy ì„¤ì • (ì‹¤íŒ¨í•œ ë°©ë²•)</h3>

<p>2-1. <code class="language-plaintext highlighter-rouge">axios</code> ë¡œ í˜¸ì¶œí•  urlì˜ í˜¸ìŠ¤íŠ¸ë¥¼ ì§€ìš°ê³ <br />
package.jsonì—ì„œ proxy ì— ì¶”ê°€í•´ì¤€ë‹¤</p>

<p>2-2. urlì˜ í˜¸ìŠ¤íŠ¸ë¥¼ ì§€ìš°ê³  <code class="language-plaintext highlighter-rouge">axios</code> ë¡œ ë‹¤ì‹œ í˜¸ì¶œ</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/c70c33c2-fbb4-46fc-bb22-210e58263148/image.png" alt="" /></p>

<hr />

<h3 id="3-http-proxy-middleware-ë¼ì´ë¸ŒëŸ¬ë¦¬-ì‹¤íŒ¨í•œ-ë°©ë²•">3. http-proxy-middleware ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì‹¤íŒ¨í•œ ë°©ë²•)</h3>

<p>3-1. <code class="language-plaintext highlighter-rouge">npm install http-proxy-middleware</code> ëª…ë ¹ì–´ë¡œ <strong>â€˜proxyâ€™</strong> ë¯¸ë“¤ì›¨ì–´ ì„¤ì¹˜</p>

<p>3-2. <code class="language-plaintext highlighter-rouge">src í´ë”</code> ê²½ë¡œì— <strong>â€˜setupProxy.jsâ€™</strong> íŒŒì¼ ìƒì„±</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/c44c9d89-deb7-452d-aaea-14096ef12f93/image.png" alt="" /></p>

<p>3-3. <code class="language-plaintext highlighter-rouge">createProxyMiddleware</code> ì½”ë“œ ì…ë ¥</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">createProxyMiddleware</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">http-proxy-middleware</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
    <span class="nx">createProxyMiddleware</span><span class="p">({</span>
      <span class="na">target</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://localhost:8080</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">changeOrigin</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">})</span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<hr />

<p>3-4. urlì˜ í˜¸ìŠ¤íŠ¸ë¥¼ ì§€ìš°ê³  <code class="language-plaintext highlighter-rouge">axios</code> ë¡œ ë‹¤ì‹œ í˜¸ì¶œí•œë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/286c8cdd-fa68-4cfd-92da-342d75512e7b/image.png" alt="" /></p>

<hr />

<h3 id="ì°¸ê³ -í–ˆë˜-ì‚¬ì´íŠ¸-">ì°¸ê³  í–ˆë˜ ì‚¬ì´íŠ¸ ğŸ–¥</h3>

<ul>
  <li>
    <p><a href="https://beomy.github.io/tech/browser/cors/">https://beomy.github.io/tech/browser/cors/</a></p>
  </li>
  <li>
    <p><a href="https://abbo.tistory.com/146">https://abbo.tistory.com/146</a></p>
  </li>
  <li>
    <p><a href="https://woochan-dev.tistory.com/94">https://woochan-dev.tistory.com/94</a></p>
  </li>
</ul>

<hr />

<h3 id="ë°œìƒí–ˆë˜-ì—ëŸ¬-ë‚´ìš©">ë°œìƒí–ˆë˜ ì—ëŸ¬ ë‚´ìš©</h3>

<blockquote>
  <p>POST http://localhost:8080/ net::ERR_CONNECTION_RESET<br />
POST http://localhost:8080/ net::ERR_FAILED<br />
404 (Not Found)<br />
ResponseÂ {type: â€˜basicâ€™, url: â€˜http://localhost:3000/â€™, redirected: false, status: 404, ok: false,Â â€¦}<br />
Uncaught Error: The error you provided does not contain a stack trace.<br />
Uncaught (in promise) {message: â€˜Network Errorâ€™, name: â€˜AxiosErrorâ€™, code: â€œERR_NETWORKâ€, config: {â€¦}, request: XMLHttpRequest, â€¦}
Access to XMLHttpRequest at â€˜http://localhost:8080/â€™ from origin â€˜http://localhost:3000â€™ has been blocked by CORS policy: Response to preflight request doesnâ€™t pass access control check: No â€˜Access-Control-Allow-Originâ€™ header is present on the requested resource. If an opaque response serves your needs, set the requestâ€™s mode to â€˜no-corsâ€™ to fetch the resource with CORS disabled.
Uncaught (in promise) TypeError: Failed to fetch
Uncaught ReferenceError: process is not defined<br />
Uncaught Error: The error you provided does not contain a stack trace.</p>
</blockquote>

<hr />
:ET