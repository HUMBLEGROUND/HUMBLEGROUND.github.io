I"5,<p><img src="https://velog.velcdn.com/images/-__-/post/37f16109-4964-4468-bc63-bb7315243de8/image.png" alt="" /></p>

<p>â­ í•˜ì´í¼ë ˆì € íŒ¨ë¸Œë¦­ 1.4 ver ê¸°ì¤€</p>

<h2 id="ì²´ì¸ì½”ë“œ-ë°°í¬-ê´€ë¦¬ìì˜-ê´€ì ">ì²´ì¸ì½”ë“œ ë°°í¬ (ê´€ë¦¬ìì˜ ê´€ì )</h2>

<h3 id="ë°°í¬-ëª…ë ¹ì–´-ìˆœì„œ">ë°°í¬ ëª…ë ¹ì–´ ìˆœì„œ</h3>

<blockquote>
  <p><br /></p>
  <ul>
    <li>
      <p>docker-compose -f docker-compose.yml up -d cli<br /></p>
    </li>
    <li>
      <p>docker exec cli peer chaincode install -n fabcar -v 1.0 -p github.com/fabcar/go<br /></p>
    </li>
    <li>
      <p>docker exec cli peer chaincode instantiate -o orderer.example.com:7050 -n fabcar -v 1.0 -c â€˜{â€œArgsâ€:[]}â€™ -C mychannel -P â€œOR (â€˜Org1MSP.memberâ€™,â€™Org2MSP.memberâ€™)â€<br /></p>
    </li>
    <li>
      <p>docker exec cli peer chaincode invoke -o orderer.example.com:7050 -n fabcar -c â€˜{â€œArgsâ€:[â€œinitLedgerâ€]}â€™ -C mychannel<br /></p>
    </li>
    <li>
      <p>docker exec cli peer chaincode query -n fabcar -c â€˜{â€œArgsâ€:[â€œqueryAllCarsâ€]}â€™ -C mychannel<br /></p>
    </li>
    <li>
      <p>docker exec cli peer chaincode invoke -o orderer.example.com:7050 -n fabcar -c â€˜{â€œArgsâ€:[â€œcreateCarâ€,â€CAR12â€,â€smâ€,â€sm3â€,â€redâ€,â€shinâ€]}â€™ -C mychannel<br /></p>
    </li>
    <li>
      <p>docker exec cli peer chaincode query -n fabcar -c â€˜{â€œArgsâ€:[â€œqueryCarâ€,â€CAR12â€]}â€™ -C mychannel<br />
<br /></p>
    </li>
  </ul>
</blockquote>

<ol>
  <li><code class="language-plaintext highlighter-rouge">docker-compose -f docker-compose.yml up -d cli</code><br />
ğŸ‘‰ <code class="language-plaintext highlighter-rouge">-d</code> ì˜µì…˜ì„ ì•ˆì£¼ë©´ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê³  ë¬´í•œë£¨í”„ì— ê°‡íŒë‹¤<br />
ğŸ‘‰ <code class="language-plaintext highlighter-rouge">cli</code> ë¼ëŠ” ì»¨í…Œì´ë„ˆ ìƒì„±</li>
</ol>

<hr />

<ol>
  <li><code class="language-plaintext highlighter-rouge">cli</code> ì»¨í…Œì´ë„ˆëŠ” í•˜ì´í¼ë ˆì € ë¸”ë¡ì²´ì¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ê´€ë¦¬í•˜ëŠ” ì½˜ì†” ì—­í•  (peer ì—ê²Œ ëª…ë ¹ì„ ì£¼ëŠ” ê´€ë¦¬ì)</li>
</ol>

<p><img src="https://velog.velcdn.com/images/-__-/post/d61b7887-1006-444c-8409-ce91b330343c/image.png" alt="" /></p>

<blockquote>
  <p><br />
ğŸ‘† cli ì»¨í…Œì´ë„ˆ ì„¤ì • (ê´€ë¦¬ììš© ì½˜ì†”)<br /></p>

  <h3 id="environment-í™˜ê²½ë³€ìˆ˜">environment (í™˜ê²½ë³€ìˆ˜)</h3>

  <ol>
    <li>ì²´ì¸ì½”ë“œì— ëŒ€í•œ ì„¤ì¹˜ ë°°í¬ëª…ë ¹ <code class="language-plaintext highlighter-rouge">GOPATH í™˜ê²½ë³€ìˆ˜</code></li>
    <li>ì—°ê²°í•  peer ì˜ ì •ë³´ (ì»¨í…Œì´ë„ˆ ì´ë¦„ or IPì£¼ì†Œ or ë„ë©”ì¸ì£¼ì†Œ ë“±)</li>
    <li>ì»¨í…Œì´ë„ˆì™€ í†µì‹ í•˜ëŠ”ë° í•„ìš”í•œ PORT ë²ˆí˜¸</li>
    <li>ì–´ë–¤ ë©¤ë²„ì‹­ìœ¼ë¡œ ì—°ê²°ì„ í• ì§€ (ì¡°ì§ë©¤ë²„ì‹­)</li>
    <li>ì–´ë–¤ ê¶Œí•œìœ¼ë¡œ peer ì—ê²Œ ì ‘ê·¼í• ì§€ (ë©¤ë²„ì‹­ ê²½ë¡œ)</li>
    <li>ì–´ë–¤ ê¶Œí•œìœ¼ë¡œ peer ì—ê²Œ íŠ¸ëœì­ì…˜ì„ ì¼ìœ¼í‚¬ê²ƒì¸ì§€<br />
(<strong>í‚¤ì™€ ì¸ì¦ì„œ</strong>ë¥¼ ì´ìš©í•˜ì—¬ ê¶Œí•œ íšë“)<br /></li>
  </ol>

  <h3 id="volumes">volumes</h3>

  <ol>
    <li>ë¦¬ëˆ…ìŠ¤ â†’ ë„ì»¤ â†’ ì´ë¯¸ì§€ â†’ ì»¨í…Œì´ë„ˆ ìƒì„±</li>
    <li>ì»¨í…Œì´ë„ˆë“¤ì´ ì‚¬ìš©í•  ì„¸ë¶€ì ì¸ ì„¤ì •ë‚´ìš© / íŒŒì¼ì€ ì´ë¯¸ì§€ì— ë“¤ì–´ê°€ì§€ ì•ŠëŠ”ë‹¤</li>
    <li>ì´ëŸ° ê²½ìš°ì—ëŠ” ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì— ìˆëŠ” ë””ë ‰í† ë¦¬ì—ì„œ <strong>ì„¸ë¶€ê°’</strong>ì„ ê°€ì ¸ì˜¨ë‹¤</li>
  </ol>
</blockquote>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">/var/run/ : /host/var/run/</code><br />
<strong>â€™ : â€˜ ë¥¼ ê¸°ì¤€ìœ¼ë¡œ</strong> <br />
ì•ì—ëŠ” ë¦¬ëˆ…ìŠ¤ ë””ë ‰í† ë¦¬ ê²½ë¡œ <br />
ë’¤ì—ëŠ” ë„ì»¤ ì»¨í…Œì´ë„ˆ ì €ì¥ ê²½ë¡œ</p>
</blockquote>

<hr />

<ol>
  <li><code class="language-plaintext highlighter-rouge">docker exec cli peer chaincode install -n fabcar -v 1.0 -p github.com/fabcar/go</code></li>
</ol>

<ul>
  <li>ë„ì»¤ clië¡œ <strong>(ê´€ë¦¬ìê¶Œí•œ)</strong> ëª…ë ¹ì–´ ì‹¤í–‰</li>
  <li><code class="language-plaintext highlighter-rouge">peer chaincode install</code> ì²´ì¸ì½”ë“œ ì„¤ì¹˜</li>
  <li>ì²´ì¸ì½”ë“œì˜ ì´ë¦„ì€ <code class="language-plaintext highlighter-rouge">fabcar</code></li>
  <li>ë²„ì „ê´€ë¦¬ë¥¼ ìœ„í•´ ë²„ì „ì •ë³´ <code class="language-plaintext highlighter-rouge">v 1.0</code></li>
  <li>ì²´ì¸ì½”ë“œê°€ ì–´ë–¤ ë””ë ‰í† ë¦¬ì— ìˆëŠ”ì§€ ì§€ì • <code class="language-plaintext highlighter-rouge">-p github.com/fabcar/go</code></li>
</ul>

<p><img src="https://velog.velcdn.com/images/-__-/post/ea19b480-746c-4631-b52c-1bb1313010cb/image.png" alt="" /></p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">docker exec cli peer chaincode list --installed</code>
ì„±ê³µì ìœ¼ë¡œ ì„¤ì¹˜ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸ ğŸ‘†</p>
</blockquote>

<hr />

<ol>
  <li><code class="language-plaintext highlighter-rouge">docker exec cli peer chaincode instantiate -o orderer.example.com:7050 -n fabcar -v 1.0 -c '{"Args":[]}' -C mychannel -P "OR ('Org1MSP.member','Org2MSP.member')"</code></li>
</ol>

<ul>
  <li>ë„ì»¤ clië¡œ <strong>(ê´€ë¦¬ìê¶Œí•œ)</strong> ëª…ë ¹ì–´ ì‹¤í–‰</li>
  <li><code class="language-plaintext highlighter-rouge">peer chaincode instantiate</code> ì²´ì¸ì½”ë“œ ë°°í¬</li>
  <li>ì²´ì¸ì½”ë“œ ë°°í¬ëŠ” <strong>ì±„ë„ ì „ì²´</strong>ì— ì˜í–¥ì„ ì¤€ë‹¤ â­</li>
  <li>ì²´ì¸ì½”ë“œ <span style="background-color:#B5E045; color:#000;">â€˜ì„¤ì¹˜â€™</span>ëŠ” peer ë§ˆë‹¤ í•´ì¤˜ì•¼í•˜ì§€ë§Œ <span style="background-color:#B5E045; color:#000;">â€˜ë°°í¬â€™</span>ëŠ” ì±„ë„ì— í•œë²ˆë§Œ í•´ì£¼ë©´ ëœë‹¤</li>
  <li><code class="language-plaintext highlighter-rouge">-o orderer.example.com:7050</code> ë°°í¬ê°€ ë˜ë©´ orderer ë¡œ ì „ë‹¬ì´ ë˜ì–´ì•¼ í•œë‹¤</li>
  <li>ì–´ë–¤ ì²´ì¸ì½”ë“œë¥¼ ë°°í¬í• ì§€ ì´ë¦„ <code class="language-plaintext highlighter-rouge">-n fabcar</code></li>
  <li>ë²„ì „ê´€ë¦¬ë¥¼ ìœ„í•´ ë²„ì „ì •ë³´ <code class="language-plaintext highlighter-rouge">v 1.0</code></li>
  <li><code class="language-plaintext highlighter-rouge">-c '{"Args":[]}'</code> ì²´ì¸ì½”ë“œì— <strong>â€˜Initâ€™ í•¨ìˆ˜</strong> ì›ì¥ì˜ ì´ˆê¸°ê°’ ì„¤ì • (key-value ê°’)</li>
  <li><code class="language-plaintext highlighter-rouge">-C mychannel</code> ë°°í¬ ë  ì±„ë„ ì´ë¦„</li>
  <li><code class="language-plaintext highlighter-rouge">-P "OR ('Org1MSP.member','Org2MSP.member')"</code>
ğŸ‘‰ <code class="language-plaintext highlighter-rouge">-P</code>ëŠ” ì •ì±…, ordererì— ì´ ë‚´ìš©ì´ ë“¤ì–´ê°„ë‹¤
ğŸ‘‰ â€œORâ€ <strong>ì–´ë–¤ ì¡°ì§</strong>ì´ë¼ë„ íŠ¸ëœì­ì…˜ì„ ìŠ¹ì¸í•˜ë©´ ë¸”ë¡í™” ì‹œí‚¨ë‹¤
ğŸ‘‰ â€œANDâ€ <strong>ë‘ ì¡°ì§ ëª¨ë‘</strong> íŠ¸ëœì­ì…˜ì„ ìŠ¹ì¸í•˜ë©´ ë¸”ë¡í™” ì‹œí‚¨ë‹¤</li>
</ul>

<p><img src="https://velog.velcdn.com/images/-__-/post/df43d543-d98b-4597-9f06-c1d025b50bbc/image.png" alt="" /></p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">docker exec cli peer chaincode list --instantiated -C mychannel</code>
ì„±ê³µì ìœ¼ë¡œ ì„¤ì¹˜ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸ ğŸ‘†</p>
</blockquote>

<ul>
  <li>ì²´ì¸ì½”ë“œ ì´ë¦„ / ë²„ì „ / ê²½ë¡œ</li>
</ul>

<hr />

<ol>
  <li><code class="language-plaintext highlighter-rouge">docker exec cli peer chaincode invoke -o orderer.example.com:7050 -n fabcar -c '{"Args":["initLedger"]}' -C mychannel</code></li>
</ol>

<ul>
  <li>ë„ì»¤ clië¡œ <strong>(ê´€ë¦¬ìê¶Œí•œ)</strong> ëª…ë ¹ì–´ ì‹¤í–‰</li>
  <li><code class="language-plaintext highlighter-rouge">peer chaincode invoke</code> ì²´ì¸ì½”ë“œë¡œ íŠ¸ëœì­ì…˜ì„ ë°œìƒì‹œí‚¨ë‹¤</li>
  <li><code class="language-plaintext highlighter-rouge">-o orderer.example.com:7050</code> íŠ¸ëœì­ì…˜ì´ ë°œìƒí•˜ë©´ ë¸”ë¡ì´ ìƒì„±ë˜ëŠ”ë° ë¸”ë¡ì´ ìƒì„±ì´ë˜ë ¤ë©´ â€˜ordererâ€™ ì˜ ì •ë³´ê°€ í•„ìš”í•˜ë‹¤</li>
  <li>ì–´ë–¤ ì²´ì¸ì½”ë“œë¥¼ ë™ì‘ì‹œí‚¬ì§€ <code class="language-plaintext highlighter-rouge">-n fabcar</code></li>
  <li><code class="language-plaintext highlighter-rouge">-c '{"Args":["initLedger"]}'</code> ì–´ë–¤ íŠ¸ë™ì­ì…˜ì„ ë°œìƒì‹œí‚¬ì§€ ë‚´ìš©ê°’</li>
  <li>ì–´ë–¤ ì±„ë„ì— ìˆëŠ”ì§€ <code class="language-plaintext highlighter-rouge">-C mychannel</code></li>
</ul>

<p><img src="https://velog.velcdn.com/images/-__-/post/eb69abdc-731a-409a-bbcd-697066681ebf/image.png" alt="" /></p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">docker exec cli peer chaincode query -n fabcar -c '{"Args":["queryAllCars"]}' -C mychannel</code>
ì„±ê³µì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì´ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸ ğŸ‘†</p>
</blockquote>

<ul>
  <li><code class="language-plaintext highlighter-rouge">peer chaincode query</code> íŠ¸ëœì­ì…˜ ë‚´ìš© ì „ë‹¬ (í™•ì¸)</li>
</ul>

<hr />

<ol>
  <li><code class="language-plaintext highlighter-rouge">docker exec cli peer chaincode invoke -o orderer.example.com:7050 -n fabcar -c '{"Args":["createCar","CAR12","sm","sm3","red","shin"]}' -C mychannel</code></li>
</ol>

<ul>
  <li>ë„ì»¤ clië¡œ <strong>(ê´€ë¦¬ìê¶Œí•œ)</strong> ëª…ë ¹ì–´ ì‹¤í–‰</li>
  <li><code class="language-plaintext highlighter-rouge">peer chaincode invoke</code> ì²´ì¸ì½”ë“œë¡œ íŠ¸ëœì­ì…˜ì„ ë°œìƒì‹œí‚¨ë‹¤</li>
  <li><code class="language-plaintext highlighter-rouge">-o orderer.example.com:7050</code> íŠ¸ëœì­ì…˜ì´ ë°œìƒí•˜ë©´ ë¸”ë¡ì´ ìƒì„±ë˜ëŠ”ë° ë¸”ë¡ì´ ìƒì„±ì´ë˜ë ¤ë©´ ordererì˜ ì •ë³´ê°€ í•„ìš”í•˜ë‹¤</li>
  <li>ì–´ë–¤ ì²´ì¸ì½”ë“œë¥¼ ë™ì‘ì‹œí‚¬ì§€ <code class="language-plaintext highlighter-rouge">-n fabcar</code></li>
  <li><code class="language-plaintext highlighter-rouge">-c '{"Args":["createCar","CAR12","sm","sm3","red","shin"]}'</code> ì–´ë–¤ íŠ¸ë™ì­ì…˜ì„ ë°œìƒì‹œí‚¬ì§€ ë‚´ìš©ê°’</li>
  <li>ì–´ë–¤ ì±„ë„ì— ìˆëŠ”ì§€ <code class="language-plaintext highlighter-rouge">-C mychannel</code></li>
</ul>

<p><img src="https://velog.velcdn.com/images/-__-/post/d976907a-7975-4866-a189-c097d8d14a63/image.png" alt="" /></p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">docker exec cli peer chaincode query -n fabcar -c '{"Args":["queryCar","CAR12"]}' -C mychannel</code>
ì„±ê³µì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì´ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸ ğŸ‘†</p>
</blockquote>

<hr />

<ol>
  <li><code class="language-plaintext highlighter-rouge">fabric-couchdb</code> ë¥¼ ì´ìš©í•˜ê³  ìˆì–´ì„œ <strong>â€˜ì›”ë“œìŠ¤í…Œì´íŠ¸â€™</strong> ë¥¼ ë³¼ìˆ˜ìˆë‹¤</li>
</ol>

<p><a href="http://localhost:5984/_utils">http://localhost:5984/_utils</a><br />
(ğŸ‘† ì›”ë“œìŠ¤í…Œì´íŠ¸ ë¡œì»¬í˜¸ìŠ¤íŠ¸ ì£¼ì†Œ)</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/82d06595-ac2a-4ce8-944c-6cadb7f98afc/image.png" alt="" /></p>

<blockquote>
  <p>ğŸ‘† <strong>â€˜ì›”ë“œìŠ¤í…Œì´íŠ¸â€™</strong> ë°ì´í„° ë² ì´ìŠ¤
â€˜ì´ë”ìŠ¤ìº”â€™ , â€˜í´ë ˆì´ìŠ¤ì½”í”„â€™ ì™€ ê°™ì´
íŠ¸ëœì­ì…˜ ë°œìƒ ë‚´ìš©ì„ UI ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤</p>
</blockquote>

<p><img src="https://velog.velcdn.com/images/-__-/post/b8ccb89c-006e-4dff-998a-ee048fdcbb7a/image.png" alt="" /></p>

<blockquote>
  <p>ğŸ‘† <strong>â€˜CAR12â€™ Metadata</strong>
ì²´ì¸ì½”ë“œë¡œ íŠ¸ëœì­ì…˜ì„ ë°œìƒì‹œí‚¨ ê°’ì´
key-value ë°ì´í„°ë¡œ ì˜ ë‹´ê¸´ê±¸ í™•ì¸ í•  ìˆ˜ ìˆë‹¤</p>
</blockquote>

<p><img src="https://velog.velcdn.com/images/-__-/post/9e902360-054c-4354-9ac1-ebcff4e7539b/image.png" alt="" /></p>

<blockquote>
  <p>ğŸ‘† <strong>â€˜CAR12â€™ json</strong>
ì²´ì¸ì½”ë“œë¡œ íŠ¸ëœì­ì…˜ì„ ë°œìƒì‹œí‚¨
<code class="language-plaintext highlighter-rouge">"CAR12","sm","sm3","red","shin"</code> ë°ì´í„°ê°€
JSON í˜•ì‹ìœ¼ë¡œ ì˜ ë‹´ê¸´ê±¸ í™•ì¸ í•  ìˆ˜ ìˆë‹¤</p>
</blockquote>

<hr />
:ET