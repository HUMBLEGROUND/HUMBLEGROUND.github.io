I"¢9<h3 id="nftë¡œ-ë§Œë“¤-ì´ë¯¸ì§€ë¥¼-ìƒì„±">NFTë¡œ ë§Œë“¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±</h3>

<p><img src="https://velog.velcdn.com/images/-__-/post/3549f783-0d5e-40d9-824e-d2dab6e44e29/image.png" alt="" /></p>

<hr />

<h3 id="ì´ë¯¸ì§€-props-ì„¤ì •--ì´ë¯¸ì§€-í¬ê¸°-ì„¤ì •">ì´ë¯¸ì§€ Props ì„¤ì • &amp; ì´ë¯¸ì§€ í¬ê¸° ì„¤ì •</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">FC</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Image</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@chakra-ui/react</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">AnimalCardProps</span> <span class="p">{</span>
  <span class="nl">animalType</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">AnimalCard</span><span class="p">:</span> <span class="nx">FC</span><span class="o">&lt;</span><span class="nx">AnimalCardProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">animalType</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// AnimalCardPropsì„ Propsë¡œ ë°›ëŠ”ë‹¤</span>
  <span class="c1">// animalTypeì€ ì–´ë–¤ NFTë¥¼ ë½‘ì•˜ëŠ”ì§€ ì¡°íšŒ</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Image</span> <span class="nx">w</span><span class="o">=</span><span class="p">{</span><span class="mi">150</span><span class="p">}</span> <span class="nx">h</span><span class="o">=</span><span class="p">{</span><span class="mi">150</span><span class="p">}</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="s2">`images/</span><span class="p">${</span><span class="nx">animalType</span><span class="p">}</span><span class="s2">.png`</span><span class="p">}</span> <span class="nx">alt</span><span class="o">=</span><span class="dl">"</span><span class="s2">AnimalCard</span><span class="dl">"</span> <span class="o">/&gt;</span>
    <span class="c1">// animalTypeì„ í†µí•´ NFTì¡°íšŒëœê±¸ ì´ë¯¸ì§€ë¡œ ê·¸ëŒ€ë¡œ ì¶œë ¥í•œë‹¤</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">AnimalCard</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h3 id="web3js-ë¥¼-í†µí•´-íŠ¹ì •í•¨ìˆ˜-ê°€ì ¸ì˜¤ê¸°-maintsx">web3.js ë¥¼ í†µí•´ íŠ¹ì •í•¨ìˆ˜ ê°€ì ¸ì˜¤ê¸° (main.tsx)</h3>

<ul>
  <li>ê°œë°œìëŠ” <span style="background-color:#B5E045; color:#000;">â€˜ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œâ€™</span>ì™€ <span style="background-color:#B5E045; color:#000;">â€˜ABIâ€™</span>ë¥¼ ì•Œë©´ â€˜web3.jsâ€™ ë¥¼ í†µí•´</li>
  <li>ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ìƒì„±í•˜ê³  / íŠ¹ì • í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">FC</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Box</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">Flex</span><span class="p">,</span> <span class="nx">Button</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@chakra-ui/react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">mintAnimalTokenContract</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../contracts</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">AnimalCard</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../components/AnimalCard</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">MainProps</span> <span class="p">{</span>
  <span class="nl">account</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// TypeScript ëŠ” Propsì˜ íƒ€ì…ì„ ì •í•´ì¤˜ì•¼í•œë‹¤</span>

<span class="kd">const</span> <span class="nx">Main</span><span class="p">:</span> <span class="nx">FC</span><span class="o">&lt;</span><span class="nx">MainProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">account</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// íƒ€ì…ì„ ì •í•´ì¤¬ìœ¼ë‹ˆ Propsë¥¼ ì‚¬ìš©</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">newAnimalType</span><span class="p">,</span> <span class="nx">setNewAnimalType</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">onClickMint</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">account</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span> <span class="c1">// ê³„ì •ì´ ì—†ëŠ”ê²½ìš°ëŠ” ê·¸ëƒ¥ ë¦¬í„´</span>

      <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mintAnimalTokenContract</span><span class="p">.</span><span class="nx">methods</span>
        <span class="c1">// ë³€ìˆ˜ì— ë‹´ëŠ”ê±´ ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°°í¬í•œ í›„ì— ë‚˜ì˜¤ëŠ” í•¨ìˆ˜ë¥¼</span>
        <span class="p">.</span><span class="nx">mintAnimalToken</span><span class="p">()</span> <span class="c1">// ì¸ì ì…ë ¥ì—†ì´ ì´ í•¨ìˆ˜ë¥¼ í´ë¦­í•˜ë©´ ë¯¼íŠ¸ê°€ ë˜ëŠ” í•¨ìˆ˜ì˜€ë‹¤</span>
        <span class="p">.</span><span class="nx">send</span><span class="p">({</span> <span class="na">from</span><span class="p">:</span> <span class="nx">account</span> <span class="p">});</span> <span class="c1">// ëˆ„êµ¬ë¡œ ë¶€í„° ì™”ëŠ”ì§€ ê³„ì •í™•ì¸</span>

      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span> <span class="c1">// ğŸ‘‰ ë¯¼íŠ¸ë¥¼ í•˜ë©´ íŠ¸ë™ì­ì…˜ì— ì½˜ì†”ì— ì°íŒë‹¤</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// ë¯¼íŠ¸ í›„ì— statusê°€ true ì¼ ê²½ìš°</span>
        <span class="kd">const</span> <span class="nx">balanceLength</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mintAnimalTokenContract</span><span class="p">.</span><span class="nx">methods</span>
          <span class="c1">// ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°°í¬í›„ì— ë‚˜ì˜¤ëŠ” í•¨ìˆ˜</span>
          <span class="p">.</span><span class="nx">balanceOf</span><span class="p">(</span><span class="nx">account</span><span class="p">)</span> <span class="c1">// NFT ê°€ì§€ê³  ìˆëŠ” ê°¯ìˆ˜ ì¡°íšŒ (ì¸ìì—ëŠ” ì£¼ì†Œë¥¼ ë„£ì–´ì•¼í•œë‹¤)</span>
          <span class="p">.</span><span class="nx">call</span><span class="p">();</span> <span class="c1">// í•¨ìˆ˜ ë¶€ë¥´ê¸°</span>

        <span class="kd">const</span> <span class="nx">animalTokenId</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mintAnimalTokenContract</span><span class="p">.</span><span class="nx">methods</span>
          <span class="c1">// ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°°í¬í›„ì— ë‚˜ì˜¤ëŠ” í•¨ìˆ˜</span>
          <span class="p">.</span><span class="nx">tokenOfOwnerByIndex</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">balanceLength</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span>
          <span class="c1">// NFTì˜ Id ê°’ì„ ì¡°íšŒ (ì¸ìëŠ” ì£¼ì†Œì™€, ì¡°íšŒí•˜ë ¤ëŠ” ë°°ì—´ìˆœë²ˆ)</span>
          <span class="c1">// length - 1 ì€ ë°°ì—´ì˜ ë§ˆì§€ë§‰ì„ ë¶ˆëŸ¬ì˜¨ë‹¤ëŠ” ëœ»</span>
          <span class="c1">// í˜„ì¬ ì¤€ë¹„ëœ ì´ë¯¸ì§€ê°€ 5ê°œë°–ì— ì—†ì–´ì„œ ë¯¼íŒ…ëœ ìˆ˜ëŸ‰ì— ë”°ë¼ ì¡°ì ˆí•´ì£¼ë©´ëœë‹¤ -30</span>
          <span class="c1">// string íƒ€ì…ì´ê¸° ë•Œë¬¸ì— parseIntë¡œ ìˆ«ìë¡œ í˜•ë³€í™˜ì„ í•´ì¤€ë‹¤, 10ì§„ìˆ˜</span>
          <span class="p">.</span><span class="nx">call</span><span class="p">();</span> <span class="c1">// í•¨ìˆ˜ ë¶€ë¥´ê¸°</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">animalTokenId</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">animalType</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mintAnimalTokenContract</span><span class="p">.</span><span class="nx">methods</span>
          <span class="c1">// ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°°í¬í›„ì— ë‚˜ì˜¤ëŠ” í•¨ìˆ˜</span>
          <span class="p">.</span><span class="nx">animalTypess</span><span class="p">(</span><span class="nx">animalTokenId</span><span class="p">)</span>
          <span class="c1">// ì–´ë–¤ NFTë¥¼ ë½‘ì•˜ëŠ”ì§€ ì¡°íšŒ (ì¸ìì—ëŠ” NFT idë¥¼ ë„£ëŠ”ë‹¤)</span>
          <span class="p">.</span><span class="nx">call</span><span class="p">();</span> <span class="c1">// í•¨ìˆ˜ ë¶€ë¥´ê¸°</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">animalType</span><span class="p">);</span>
        <span class="nx">setNewAnimalType</span><span class="p">(</span><span class="nx">animalType</span><span class="p">);</span>
        <span class="c1">// ìµœì¢…ì ìœ¼ë¡œëŠ” mintë¥¼ í•˜ë©´ ğŸ‘‰ ì–´ë–¤ NFTê°€ ë½‘í˜”ëŠ”ì§€ NFT ì´ë¯¸ì§€ë¥¼ ì¶œë ¥í•´ì£¼ëŠ” useState</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Flex</span>
      <span class="nx">w</span><span class="o">=</span><span class="dl">"</span><span class="s2">full</span><span class="dl">"</span>
      <span class="nx">h</span><span class="o">=</span><span class="dl">"</span><span class="s2">100vh</span><span class="dl">"</span>
      <span class="nx">justifyContent</span><span class="o">=</span><span class="dl">"</span><span class="s2">center</span><span class="dl">"</span>
      <span class="nx">alignItems</span><span class="o">=</span><span class="dl">"</span><span class="s2">center</span><span class="dl">"</span>
      <span class="nx">direction</span><span class="o">=</span><span class="dl">"</span><span class="s2">column</span><span class="dl">"</span>
    <span class="o">&gt;</span>
      <span class="p">{</span><span class="cm">/* CSSì™€ ë¹„ìŠ·í•œ ê°œë…ì¸ ì½”ë“œ ì„¼í„°ë¡œ ë§ì¶”ê³  / columnìœ¼ë¡œ ì„¸ë¡œ ë°©í–¥ ì •ë ¬*/</span><span class="p">}</span>

      <span class="o">&lt;</span><span class="nx">Box</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="cm">/* AnimalCard ì»´í¬ë„ŒíŠ¸ Propsë¡œ ğŸ‘‰ newAnimalTypeë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë°
      mintë¥¼ í•˜ë©´ ğŸ‘‰ ì–´ë–¤ NFTê°€ ë½‘í˜”ëŠ”ì§€ NFT ì´ë¯¸ì§€ë¥¼ ì¶œë ¥í•´ì£¼ëŠ” useState ì´ë‹¤ */</span><span class="p">}</span>
        <span class="p">{</span><span class="nx">newAnimalType</span> <span class="p">?</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">AnimalCard</span> <span class="nx">animalType</span><span class="o">=</span><span class="p">{</span><span class="nx">newAnimalType</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="p">)</span> <span class="p">:</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Let</span><span class="dl">'</span><span class="s1">s mint Animal Card!!!&lt;/Text&gt;
        )}
        {/* 3í•­ ì—°ì‚°ì */}
      &lt;/Box&gt;
      &lt;Button mt={4} size="sm" colorScheme="blue" onClick={onClickMint}&gt;
        Mint
      &lt;/Button&gt;
    &lt;/Flex&gt;
  );
};

export default Main;

</span></code></pre></div></div>

<hr />

<h3 id="mint-ë²„íŠ¼ì„-ëˆ„ë¥´ë©´-nft-ìƒì„±-êµ¬í˜„">mint ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ NFT ìƒì„± êµ¬í˜„</h3>

<ul>
  <li>mint ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ğŸ‘‰ NFTê°€ ìƒì„±ë˜ëŠ”ë° ğŸ‘‰ ìƒì„±ëœ NFTì™€ ì´ë¯¸ì§€ë‘ ì—°ê²°ì‹œì¼œì¤˜ì•¼í•œë‹¤</li>
</ul>

<p>-1. NFTê°€ ëª‡ê°œ ìƒì„±ë˜ì–´ìˆëŠ”ì§€ ê°¯ìˆ˜ë¥¼ ì¡°íšŒí•œë‹¤</p>

<p>-2. ì œì¼ ìµœì‹ ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ NFT id ê°’ì„ ì¡°íšŒ (length -1)</p>

<p>-3. NFT id ê°’ì„ ì•Œì•„ëƒˆìœ¼ë©´ ğŸ‘‰ idê°’ì„ ì…ë ¥í•˜ì—¬</p>

<p>-4. 1 / 2 / 3 / 4 / 5 ë²ˆì¤‘ì— ì–´ë–¤ NFTë¥¼ ìƒì„±í–ˆëŠ”ì§€ ì¡°íšŒ</p>

<p>-5. ì¡°íšŒëœ NFT 1 ~ 5ë²ˆ ìˆ«ìë¥¼ ğŸ‘‰ ì´ë¯¸ì§€ Propsì— ë‹´ì•„ì¤€ë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/75bb1ebf-8b9f-4938-9d04-8c9428061f0e/image.gif" alt="" /></p>

<blockquote>
  <p>ğŸ‘† NFT ì™€ ì´ë¯¸ì§€ë‘ ê° ë²ˆí˜¸ì— ë§ê²Œ ì—°ê²°ì‹œì¼œì„œ ì¶œë ¥</p>
</blockquote>

<hr />

<h3 id="ì „ì²´ì½”ë“œ-github">ì „ì²´ì½”ë“œ github</h3>

<p><a href="https://github.com/wavescats/mini-project/pull/8/files">https://github.com/wavescats/mini-project/pull/8/files</a></p>

<hr />
:ET