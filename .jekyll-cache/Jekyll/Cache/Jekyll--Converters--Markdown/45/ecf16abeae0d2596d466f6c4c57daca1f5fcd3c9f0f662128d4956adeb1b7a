I"Ûl<p><img src="https://velog.velcdn.com/images/-__-/post/b57a40f1-fdf0-4e37-aa5c-4abef4b25caf/image.png" alt="" /></p>

<h3 id="-project-lion-nft-ë¸”ë¡ì²´ì¸-ë§ˆì¼“-ì•±-ë§Œë“¤ê¸°-with-ê·¸ë¼ìš´ë“œx-3ê¸°---ì±•í„°-5-4-íšŒê³ ">ğŸ¦ [PROJECT LION] NFT ë¸”ë¡ì²´ì¸ ë§ˆì¼“ ì•± ë§Œë“¤ê¸° with ê·¸ë¼ìš´ë“œX 3ê¸° - ì±•í„° 5-4 íšŒê³ </h3>

<hr />

<h3 id="kip-17">KIP-17</h3>

<ul>
  <li>
    <p>KIP-17ì€ ERC-721 í† í°ì—ì„œ íŒŒìƒë˜ì—ˆë‹¤</p>
  </li>
  <li>
    <p><span style="background-color:#F7969A; color:#000;"><strong>â€˜KIP-17â€™</strong> ê¸°ë°˜ìœ¼ë¡œ ë°œí–‰ëœ í† í°ì€ ëŒ€ì²´ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤</span><br />
ğŸ‘‰ ëŒ€ì²´ ë¶ˆê°€ëŠ¥ í† í° (NFT, Non-Fungible Token)</p>
  </li>
</ul>

<hr />

<h3 id="nft-ë°œí–‰í•˜ê³ -ì¡°íšŒí•˜ê¸°">NFT ë°œí–‰í•˜ê³  ì¡°íšŒí•˜ê¸°</h3>

<p>-1. Klaytn IDE ì—ì„œ <strong>â€˜KIP-17â€™</strong> ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì½”ë“œ <strong>ë°°í¬(Deploy)</strong></p>

<blockquote>
  <p>â­ Klip ì€ í…ŒìŠ¤íŠ¸ë„·(Baobab) ì—ì„œ ì‹¤í–‰ì„ ëª»í•˜ê¸°ë•Œë¬¸ì—<br />
ë©”ì¸ë„·ì—ì„œ ì‚¬ìš©í•  <strong>ì‹¤ì œ KLAY</strong> ê°€ í•„ìš”í•˜ë‹¤ â—</p>
</blockquote>

<p><img src="https://velog.velcdn.com/images/-__-/post/0c9c417c-5b96-463d-8fdf-b99c76d9c4e6/image.png" alt="" /></p>

<blockquote>
  <ul>
    <li>
      <p>â€˜KIP17Tokenâ€™ ì„ ì„ íƒí•´ì„œ ì»´íŒŒì¼í•œ í›„ <strong>ABI ë³µì‚¬</strong><br /></p>
    </li>
    <li>
      <p>â€˜KIP17Tokenâ€™ ì„ ë°°í¬í•˜ê³  ë‚˜ì˜¨ <strong>ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ</strong> ë¥¼ ë³µì‚¬í•œë‹¤</p>
    </li>
  </ul>
</blockquote>

<hr />

<p>-2. â€˜KIP17Tokenâ€™ ì„ ë°°í¬í•˜ê³  ë‚˜ì˜¨ <strong>í•¨ìˆ˜ë¥¼ ì‹¤í–‰</strong>ì‹œì¼œ NFT ë°œí–‰ (ë¯¼íŒ…)</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/5a307e4d-bf18-453a-a3e2-79db1aedebc5/image.png" alt="" /></p>

<blockquote>
  <h3 id="mintwithtokenuri-í•¨ìˆ˜-ì‹¤í–‰"><code class="language-plaintext highlighter-rouge">mintWithTokenURI</code> í•¨ìˆ˜ ì‹¤í–‰</h3>

  <p>to ğŸ‘‰ NFT ë°œí–‰ ì§€ê°‘ì£¼ì†Œ (ì†Œìœ ì£¼)<br />
tokenId ğŸ‘‰ ë°œí–‰í•˜ëŠ” NFT ì„ì˜ì˜ ë²ˆí˜¸<br />
tokenURI ğŸ‘‰ NFTì˜ ì •ë³´ (ì´ë¯¸ì§€, ì œëª©, ì„¸ë¶€ë‚´ìš© ë“±ë“±)</p>
</blockquote>

<blockquote>
  <p>ì €ëŠ” ì¼ë‹¨ ì´ë¯¸ì§€ 2ê°œë¥¼ ì¤€ë¹„í•´ì„œ<br />
tokenId 100ë²ˆ, 101ë²ˆ ìœ¼ë¡œ ë°œí–‰ì‹œì¼œ ë³´ê² ìŠµë‹ˆë‹¤<br />
( https:// ~~ .png ë¡œ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤ )</p>
</blockquote>

<hr />

<p>-3. NFTë¥¼ ë°œí–‰ í–ˆìœ¼ë©´ ì¡°íšŒí•´ë³¸ë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/92fb6c20-1f62-4a33-8038-6293c7354347/image.png" alt="" /></p>

<blockquote>
  <ul>
    <li>
      <p><strong>balanceOf</strong> ğŸ‘‰ í•´ë‹¹ ì£¼ì†Œì— ëª‡ê°œì˜ NFTë¥¼ ë³´ìœ ì¤‘ì¸ì§€ ê°œìˆ˜ í™•ì¸<br /></p>
    </li>
    <li>
      <p><strong>ownerOf</strong> ğŸ‘‰ NFTì˜ TokenId ë¥¼ ì…ë ¥í•˜ë©´ ëˆ„ê°€ ì†Œìœ ì¤‘ì¸ì§€ ì£¼ì†Œë¥¼ í™•ì¸<br /></p>
    </li>
    <li>
      <p><strong>tokenOfOwnerByIndex</strong> ğŸ‘‰ ì£¼ì†Œì™€, ë°°ì—´ì˜ ëª‡ë²ˆì§¸ ë¥¼ ì…ë ¥í•˜ë©´ TokenId ë¥¼ í™•ì¸<br />
(ì´ 2ê°œë¥¼ ë°œí–‰í–ˆìœ¼ë‹ˆ ë°°ì—´ì—ëŠ” <code class="language-plaintext highlighter-rouge">[100, 101]</code> ì´ë ‡ê²Œ 2ê°œê°€ ë‹´ê²¨ìˆë‹¤<br />
ğŸ‘‰ 0ë²ˆì§¸ -&gt; 100 / 1ë²ˆì§¸ -&gt; 101<br /></p>
    </li>
    <li>
      <p><strong>tokenURI</strong> ğŸ‘‰ NFTì˜ TokenId ë¥¼ ì…ë ¥í•˜ë©´ URIë¥¼ í™•ì¸</p>
    </li>
  </ul>
</blockquote>

<hr />

<p>-4. <strong>â€˜ABI / ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œâ€™</strong> ë¡œ caver-js ë¥¼ í†µí•´ ë¦¬ì•¡íŠ¸ì™€ ì—°ê²°í•œë‹¤</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/1e1f4e0e-dcda-4923-99a3-a2fbb774c220/image.png" alt="" /></p>

<p>â­ Klaytn IDEì—ì„œ ì¡°íšŒë¥¼ í–ˆë˜ í•¨ìˆ˜ë“¤ì„ ë¦¬ì•¡íŠ¸ì—ì„œë„ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤</p>

<blockquote>
  <p>ì¡°íšŒë¥¼ í• ë•ŒëŠ” ì§€ê°‘ì— ê°€ì§€ê³ ìˆëŠ” NFTì˜ ì´ë¯¸ì§€ë¥¼ ë‹¤ client ì— ì¶œë ¥í•  ê²ƒì´ë¯€ë¡œ ì—¬ëŸ¬ê³¼ì •ì„ ê±°ì³ì•¼í•œë‹¤<br /></p>

  <ol>
    <li><code class="language-plaintext highlighter-rouge">balanceOf</code> ë¥¼ ì´ìš©í•´ ëª‡ê°œì˜ NFTë¥¼ ë³´ìœ ì¤‘ì¸ì§€ ê°œìˆ˜ë¥¼ ë³€ìˆ˜ì— ë‹´ëŠ”ë‹¤<br /></li>
    <li>ê°œìˆ˜ë¥¼ ë°˜ë³µë¬¸ì„ ëŒë ¤ì„œ ìˆœì°¨ì ìœ¼ë¡œ ëŒ€ì…<br /></li>
    <li><code class="language-plaintext highlighter-rouge">tokenOfOwnerByIndex</code> ë¥¼ ì´ìš©í•´ TokonId ì¶”ì¶œ<br /></li>
    <li><code class="language-plaintext highlighter-rouge">tokenURI</code> ë¥¼ ì´ìš©í•´ tokenURI ì¶”ì¶œ<br /></li>
    <li><strong>tokenId</strong> ì™€ <strong>tokenURI</strong> ë¥¼ ì§ì§€ì–´ì„œ ì¶œë ¥í•œë‹¤</li>
  </ol>
</blockquote>

<hr />

<p>-5. App.js ğŸ‘‰ client ì— ì¶œë ¥í•˜ê¸° ìœ„í•œ ì½”ë“œì…ë ¥</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/b196a7d0-1b64-4404-beee-4dd7b5f2fc19/image.png" alt="" /></p>

<blockquote>
  <p>í˜¸ì¶œí•œ í•¨ìˆ˜ë“¤ì„ <strong>useState</strong> ë¹ˆë°°ì—´ì— ë‹´ì•„ì¤€ë‹¤</p>
</blockquote>

<hr />

<p>-6. <code class="language-plaintext highlighter-rouge">npm run start</code> ë¡œ ì‹¤í–‰ì‹œí‚¨ë’¤ Klip ì§€ê°‘ ì—°ê²°</p>

<p><img src="https://velog.velcdn.com/images/-__-/post/d10ab6ee-35b7-4a50-9d19-9863e4dd6148/image.gif" alt="" /></p>

<blockquote>
  <p>QRì½”ë“œë¡œ Klip ì§€ê°‘ì„ <strong>ì—°ê²°</strong>í•˜ê³ <br />
ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì§€ê°‘ì— ìˆëŠ” <strong>ëª¨ë“  NFTë¥¼ ì¡°íšŒ</strong> í•  ìˆ˜ ìˆë‹¤</p>
</blockquote>

<hr />

<blockquote>
  <h3 id="kip-17-ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸-ì½”ë“œ">KIP-17 ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ì½”ë“œ</h3>

  <p><a href="https://github.com/wavescats/solidity-study/blob/main/Klip%20%EC%A7%80%EA%B0%91%20%EC%97%B0%EB%8F%99%20(KIP-17)/contracts/KIP17Token.sol">KIP-17 ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ì½”ë“œ</a></p>
</blockquote>

<hr />

<blockquote>
  <h3 id="caver-js-ë¥¼-í†µí•´-ë¦¬ì•¡íŠ¸ì™€-ì—°ê²°í•˜ëŠ”-ì½”ë“œ">caver-js ë¥¼ í†µí•´ ë¦¬ì•¡íŠ¸ì™€ ì—°ê²°í•˜ëŠ” ì½”ë“œ</h3>
</blockquote>

<p><strong>UseCaver.js</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Caver</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">caver-js</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">KIP17ABI</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../abi/KIP17TokenABI.json</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span>
  <span class="nx">ACCESS_KEY_ID</span><span class="p">,</span>
  <span class="nx">SECRET_ACCESS_KEY</span><span class="p">,</span>
  <span class="nx">CHAIN_ID</span><span class="p">,</span>
  <span class="nx">COUNT_CONTRACT</span><span class="p">,</span>
  <span class="nx">KIP17</span><span class="p">,</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../constants/index</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">option</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// Klaytn Node APIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì½”ë“œ (Docsì— ë‚˜ì™€ìˆìŒ)</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Authorization</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span>
        <span class="dl">"</span><span class="s2">Basic </span><span class="dl">"</span> <span class="o">+</span>
        <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">ACCESS_KEY_ID</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">:</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">SECRET_ACCESS_KEY</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="dl">"</span><span class="s2">base64</span><span class="dl">"</span><span class="p">),</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">x-chain-id</span><span class="dl">"</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="nx">CHAIN_ID</span> <span class="p">},</span>
  <span class="p">],</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">caver</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Caver</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">Caver</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">HttpProvider</span><span class="p">(</span>
    <span class="dl">"</span><span class="s2">https://node-api.klaytnapi.com/v1/klaytn</span><span class="dl">"</span><span class="p">,</span>
    <span class="nx">option</span>
  <span class="p">)</span>
<span class="p">);</span> <span class="c1">// Klaytn Node APIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì½”ë“œ (Docsì— ë‚˜ì™€ìˆìŒ)</span>

<span class="kd">const</span> <span class="nx">NFTContract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">caver</span><span class="p">.</span><span class="nx">contract</span><span class="p">(</span><span class="nx">KIP17ABI</span><span class="p">,</span> <span class="nx">KIP17</span><span class="p">);</span>
<span class="c1">// // â­ ê°œë°œìëŠ” 'ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ'ì™€ 'ABI'ë¥¼ ì•Œë©´ 'caver' ë¥¼ í†µí•´</span>
<span class="c1">// // â­ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ìƒì„±í•˜ê³  / íŠ¹ì • í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">fetchCardsOf</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">address</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">nftOf</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">NFTContract</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">balanceOf</span><span class="p">(</span><span class="nx">address</span><span class="p">).</span><span class="nx">call</span><span class="p">();</span>
  <span class="c1">// ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°°í¬í›„ì— ë‚˜ì˜¤ëŠ” í•¨ìˆ˜</span>
  <span class="c1">// í•´ë‹¹ ì£¼ì†Œì— ëª‡ê°œì˜ NFTë¥¼ ë³´ìœ ì¤‘ì¸ì§€ ê°œìˆ˜ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ balanceOf</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">nftOf</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">tokenIds</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">nftOf</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">NFTContract</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">tokenOfOwnerByIndex</span><span class="p">(</span><span class="nx">address</span><span class="p">,</span> <span class="nx">i</span><span class="p">).</span><span class="nx">call</span><span class="p">();</span>
    <span class="c1">// í•´ë‹¹ì£¼ì†Œì™€ ë°°ì—´ì˜ ëª‡ë²ˆì§¸ì¸ì§€ ìˆ«ìë¥¼ ì…ë ¥í•˜ë©´ tokenId ê°€ ë‚˜ì˜¨ë‹¤</span>
    <span class="nx">tokenIds</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
    <span class="c1">// ë¹ˆë°°ì—´ì— ë°˜ë³µë¬¸ì„ ëŒë ¤ì„œ tokenIdë¥¼ push í•œë‹¤</span>
  <span class="p">}</span>
  <span class="kd">const</span> <span class="nx">tokenUris</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">nftOf</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">uris</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">NFTContract</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">tokenURI</span><span class="p">(</span><span class="nx">tokenIds</span><span class="p">[</span><span class="nx">i</span><span class="p">]).</span><span class="nx">call</span><span class="p">();</span>
    <span class="c1">// í•´ë‹¹ tokenIdë¥¼ ì…ë ¥í•˜ë©´ tokenURI(ì´ë¯¸ì§€) ê°€ ë‚˜ì˜¨ë‹¤</span>
    <span class="nx">tokenUris</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">uris</span><span class="p">);</span>
    <span class="c1">// ë¹ˆë°°ì—´ì— ë°˜ë³µë¬¸ì„ ëŒë ¤ì„œ tokenURIë¥¼ push í•œë‹¤</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">tokenIds</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tokenUris</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">nfts</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">nftOf</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">nfts</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">tokenIds</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="na">uri</span><span class="p">:</span> <span class="nx">tokenUris</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">});</span>
    <span class="c1">// ë¹ˆë°°ì—´ì— ë°˜ë³µë¬¸ì„ ëŒë ¤ì„œ ê°ì²´íƒ€ì…ìœ¼ë¡œ ë‹´ëŠ”ë‹¤</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">nfts</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">nfts</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// ë¸”ë¡ì²´ì¸ ë…¸ë“œì— ì§ì ‘ì ìœ¼ë¡œ ì½œí•˜ê¸° ì–´ë ¤ì›Œì„œ KAS ë¥¼ ì‚¬ìš©</span>
<span class="c1">// KAS ëŠ” ìš°ë¦¬ê°€ ë¸”ë¡ì²´ì¸ì— ì ‘ê·¼í•˜ëŠ”ê±¸ ë„ì™€ì¤€ë‹¤</span>
<span class="c1">// ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì½ê³  ì‹¤í–‰í•˜ëŠ”ê±¸ ë„ì™€ì¤€ë‹¤</span>
<span class="c1">// ì´ ê³¼ì •ì—ì„œ Caver-js ë¥¼ ì“°ë©´ ì¸ê°„ì´ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë¥¼</span>
<span class="c1">// ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë¸”ë¡ì²´ì¸ì´ ì´í•´í• ìˆ˜ ìˆëŠ” ì½”ë“œë¡œ ë³€í˜•í•´ì¤˜ì„œ</span>
<span class="c1">// Klaytn ë…¸ë“œì™€ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">getBalance</span> <span class="o">=</span> <span class="p">(</span><span class="nx">address</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">caver</span><span class="p">.</span><span class="nx">rpc</span><span class="p">.</span><span class="nx">klay</span><span class="p">.</span><span class="nx">getBalance</span><span class="p">(</span><span class="nx">address</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// í´ë ˆì´ ì”ê³ ë¥¼ í™•ì¸ (ë‹¤ë¥¸ì½”ì¸ì´ ìˆë‹¤ë©´ klayë§ê³  ì ìœ¼ë©´ ëœë‹¤)</span>
    <span class="kd">const</span> <span class="nx">balance</span> <span class="o">=</span> <span class="nx">caver</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">convertFromPeb</span><span class="p">(</span>
      <span class="c1">// convertFromPeb -&gt; 10 ** 18 ë¡œ í´ë ˆì´ë‹¨ìœ„ë¥¼ ë³€ê²½</span>
      <span class="nx">caver</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">hexToNumberString</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
      <span class="c1">// 16ì§„ìˆ˜ë¬¸ìì—´ë¡œ ë³€ê²½</span>
    <span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">balance</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">balance</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div>

<hr />

<blockquote>
  <h3 id="appjs--client-ì—-ì¶œë ¥í•˜ê¸°-ìœ„í•œ-ì½”ë“œ">App.js ğŸ‘‰ client ì— ì¶œë ¥í•˜ê¸° ìœ„í•œ ì½”ë“œ</h3>
</blockquote>

<p><strong>App.js</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">"</span><span class="s2">./App.css</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">./market.css</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">QRCode</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">qrcode.react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">KlipAPI</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./api/UseKlip</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">fetchCardsOf</span><span class="p">,</span> <span class="nx">getBalance</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./api/UseCaver</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Alert</span><span class="p">,</span> <span class="nx">Container</span><span class="p">,</span> <span class="nx">Card</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-bootstrap</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">bootstrap/dist/css/bootstrap.min.css</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">DEFAULT_QR_CODE</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">DEFAULT</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// QRì½”ë“œëŠ” ê¸°ë³¸ DEFAULT ê°’</span>
<span class="kd">const</span> <span class="nx">DEFAULT_ADDRESS</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0x00000000000000000</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// ì£¼ì†Œ ê¸°ë³¸ê°’</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">nfts</span><span class="p">,</span> <span class="nx">setNfts</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([]);</span>
  <span class="c1">// ì¸ìë¡œ ë“¤ì–´ê°€ëŠ”ê°’ì€ tokenId, tokenUri</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">myBalance</span><span class="p">,</span> <span class="nx">setMyBalance</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">myAddress</span><span class="p">,</span> <span class="nx">setMyAddress</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">DEFAULT_ADDRESS</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">qrvalue</span><span class="p">,</span> <span class="nx">setQrvalue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">DEFAULT_QR_CODE</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">fetchMyNFT</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">nftList</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetchCardsOf</span><span class="p">(</span>
      <span class="dl">"</span><span class="s2">0x319229707F620F673a1261DCcCe4E239A71f3Bc0</span><span class="dl">"</span>
    <span class="p">);</span> <span class="c1">// í•´ë‹¹ ì£¼ì†Œì— ìˆëŠ” nft ë¦¬ìŠ¤íŠ¸</span>
    <span class="nx">setNfts</span><span class="p">(</span><span class="nx">nftList</span><span class="p">);</span>
    <span class="c1">// ë¹ˆë°°ì—´ì— ë‹´ì•„ì¤€ë‹¤</span>
  <span class="p">};</span>
  <span class="kd">const</span> <span class="nx">getUserData</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">KlipAPI</span><span class="p">.</span><span class="nx">getAddress</span><span class="p">(</span><span class="nx">setQrvalue</span><span class="p">,</span> <span class="k">async</span> <span class="p">(</span><span class="nx">address</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setMyAddress</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">balance</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getBalance</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>
      <span class="c1">// UseCaver.js ì—ì„œ ê°€ì ¸ì˜¨ getBalance</span>
      <span class="nx">setMyBalance</span><span class="p">(</span><span class="nx">balance</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">App</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span>
          <span class="nx">style</span><span class="o">=</span>
        <span class="o">&gt;</span>
          <span class="nx">ë‚´</span> <span class="nx">ì§€ê°‘</span>
        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="p">{</span><span class="nx">myAddress</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="nx">br</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">Alert</span>
          <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">getUserData</span><span class="p">}</span>
          <span class="nx">variant</span><span class="o">=</span><span class="p">{</span><span class="dl">"</span><span class="s2">balance</span><span class="dl">"</span><span class="p">}</span>
          <span class="nx">style</span><span class="o">=</span>
        <span class="o">&gt;</span>
          <span class="p">{</span><span class="nx">myBalance</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="sr">/Alert</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">container</span><span class="dl">"</span> <span class="nx">style</span><span class="o">=&gt;</span>
          <span class="p">{</span><span class="cm">/* mapì„ ì´ìš©í•˜ì—¬ nfts ë°°ì—´ì—ì„œ index ìˆœì„œëŒ€ë¡œ ì´ë¯¸ì§€ ì¶œë ¥ */</span><span class="p">}</span>
          <span class="p">{</span><span class="nx">nfts</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">list</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">Card</span><span class="p">.</span><span class="nx">Img</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">img-responsive</span><span class="dl">"</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">nfts</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">uri</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>          <span class="p">))}</span>
        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Container</span>
        <span class="nx">style</span><span class="o">=</span>
      <span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">QRCode</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">qrvalue</span><span class="p">}</span> <span class="nx">size</span><span class="o">=</span><span class="p">{</span><span class="mi">256</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Container</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">fetchMyNFT</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">NFT</span> <span class="nx">ê°€ì ¸ì˜¤ê¸°</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<hr />
:ET