---
layout: post
title: "[Go lang] JSON Marshal & Unmarshal (ë§ˆìƒ¬, ì–¸ë§ˆìƒ¬)"
subtitle: Marshal & Unmarshal / json / ì›”ë“œìŠ¤í…Œì´íŠ¸ DB
categories: Go
tags: [ê³ ì–¸ì–´]
---

![](https://velog.velcdn.com/images/-__-/post/e8e82498-1aa2-40e7-bb53-a86d89450e94/image.png)

### ë§ˆìƒ¬(marsha)

ë°ì´í„°(ê°ì²´)ë¥¼ JSON í™” ì‹œí‚¤ë©´ ì¼ë ¬ë¡œ ë°”ë€ŒëŠ”ë°<br>
ğŸ‘‰ ì´ê²ƒì„ **'ë°”ì´íŠ¸ ì½”ë“œ'** (byte code) ë¼ê³ ë„ í•œë‹¤

> Go ì–¸ì–´ì—ì„œëŠ” ì´ê²ƒì„<br>
> ğŸ‘‰ <span style="background-color:#34CDEF; color:#000;">ë§ˆìƒ¬(marsha) = ì§ë ¬í™”</span> ì´ë¼ê³  í•œë‹¤

---

### ì–¸ë§ˆìƒ¬(Unmarshal)

JSON ì„ ë‹¤ì‹œ ë°ì´í„°(ê°ì²´)ë¡œ ë³€í™˜ì‹œí‚¤ë©´

> ğŸ‘‰ ì´ê²ƒì„ <span style="background-color:#F7969A; color:#000;">ì–¸ë§ˆìƒ¬(unmarshal) = ì—­ì§ë ¬í™”</span> ì´ë¼ê³  í•œë‹¤

![](https://velog.velcdn.com/images/-__-/post/3abfced9-abba-45ee-92fe-ee9ff848fa3c/image.png)

---

### ChainCode Marshal & Unmarshal

- **ê¸°ë³¸ í˜•íƒœ**<br>
  êµ¬ì¡°ì²´(ë°ì´í„°) ğŸ‘‰ json í˜•ì‹ìœ¼ë¡œ ë³€í™˜ ğŸ‘‰ json ì—ì„œ í•„ìš”í•œ ê°’ì„ êµ¬ì¡°ì²´(ë°ì´í„°)ë¡œ ë³€í™˜í•´ì„œ ì‚¬ìš©

- **web2.0 ì—ì„œì˜ ì‚¬ìš©í˜•íƒœ**<br>
  ëª¨ë°”ì¼ì•± ë°ì´í„° ğŸ‘‰ ë°ì´í„°ë² ì´ìŠ¤(json) ğŸ‘‰ ì›¹ë¸Œë¼ìš°ì €ì—ì„œ ì½ìŒ

- **web3.0 ì—ì„œì˜ ì‚¬ìš©í˜•íƒœ**<br>
  ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°ì´í„° ğŸ‘‰ ì›”ë“œìŠ¤í…Œì´íŠ¸ DB (json) ğŸ‘‰

  1. ë°ì´í„°ë² ì´ìŠ¤ ìì²´ì—ì„œë„ ì—´ì–´ë³¼ ìˆ˜ ìˆê³ 
  2. ìµìŠ¤í”Œë¡œì–´ ëª¨ë‹ˆí„°ë§ì—ì„œë„ ì—´ì–´ë³¼ ìˆ˜ ìˆê³ 
  3. ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ì—ì„œ ë‹¤ì‹œ êº¼ë‚´ ë³¼ ìˆ˜ë„ ìˆë‹¤

> ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ëŠ” Go ì–¸ì–´ë¡œ ì‘ì„±ë˜ì–´ìˆì§€ë§Œ<br>
> Unmarshal ë˜ì–´ ì“°ì´ëŠ” ê³³ì—ì„œëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¼ìˆ˜ë„ìˆê³  íŒŒì´ì¬ì¼ìˆ˜ë„ ìˆë‹¤<br>
> ğŸ‘‰ ê·¸ë˜ì„œ <span style="background-color:#B5E045; color:#000;">ë¸”ë¡ì— ì €ì¥ë ë•Œ (ì›ì¥ì— ì €ì¥ë ë•Œ)</span> json í˜•ì‹ìœ¼ë¡œ ì €ì¥í•œë‹¤

---

### Marshal & Unmarshal ì˜ˆì œ

```go
package main

import (
	"encoding/json" // marshal ì„ ì‚¬ìš©í•˜ê¸°ìœ„í•´ import
	"fmt"
	"log"
)

// ë°ì´í„°ë¥¼ jsoní™” ì‹œí‚¤ë©´ ì¼ë ¬ë¡œ ë°”ë€ŒëŠ”ë° ì´ê²ƒì„ ë°”ì´íŠ¸ ì½”ë“œë¼ê³  í•œë‹¤
// ğŸ‘‰ ì§ë ¬í™” = ë§ˆìƒ¬(marshal) ì´ë¼ê³  í•œë‹¤

// jsonì„ ë°ì´í„°(ê°ì²´)ë¡œ ë³€í™˜ì‹œí‚¤ë©´ ì´ê²ƒì„ ğŸ‘‰ ì—­ì§ë ¬í™” = ì–¸ë§ˆìƒ¬(unmarshal) ì´ë¼ê³  í•œë‹¤


type Task struct {
	Title string
	Status int
	}

func main() {
ExampleTask_marshalJSON()
ExampleTask_unmarshalJSON()
}

func ExampleTask_marshalJSON() {
	t := Task{
		"Laundry",
		1,
	} // ğŸ‘‰ marsha ì‹œí‚¨ë‹¤ (í•œì¤„ë¡œ ë§Œë“¤ì–´ì¤Œ)
	b, err := json.Marshal(t) // t ë³€ìˆ˜ë¥¼ Marshalí•¨ìˆ˜ì— ë„£ê³  ëŒë¦°ë‹¤
	// ì—ëŸ¬ê°€ ë‚  ê²½ìš°ë„ ë³€ìˆ˜ë¡œ

	if err != nil { // ì—ëŸ¬ ë°œìƒì‹œ
		log.Println(err)
		return
	}

	fmt.Println(string(b))
	// ì¶œë ¥ê°’ ğŸ‘‰ {"Title": "Laundry", "Status": 1}
}

func ExampleTask_unmarshalJSON() {
	b := []byte(`{"Title":"Buy Milk","Status":2}`)
	t := Task{} // b ë¥¼ unmarshaì‹œì¼œì„œ t ì— ë„£ì–´ì£¼ê¸° ìœ„í•œ ê³µê°„
	err := json.Unmarshal(b, &t) // ğŸ‘‰ unmarsha ì‹œí‚¨ë‹¤ (jsonì„ í’€ì–´ì¤€ë‹¤(í•´ì²´))
	// b ë¥¼ unmarsha ì‹œì¼œì„œ t ì£¼ì†Œë¡œ ë„£ì–´ì¤€ë‹¤

	if err != nil {
		log.Println(err)
		return
	}

	fmt.Println(t.Title) // ğŸ‘‰ Buy Milk
	fmt.Println(t.Status) // ğŸ‘‰ 2
}

// êµ¬ì¡°ì²´(ë°ì´í„°) ğŸ‘‰ json ğŸ‘‰ jsonì—ì„œ í•„ìš”í•œ ê°’ì„ êµ¬ì¡°ì²´(ë°ì´í„°)í™” ë¡œ ë‹¤ì‹œ ë³€í™˜

// ëª¨ë°”ì¼ì•± ë°ì´í„° ğŸ‘‰ ë°ì´í„°ë² ì´ìŠ¤(json) ğŸ‘‰ ì›¹ë¸Œë¼ìš°ì €ì—ì„œ ì½ìŒ

// ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°ì´í„° ğŸ‘‰ ì›”ë“œìŠ¤í…Œì´íŠ¸ ë°ì´í„°ë² ì´ìŠ¤ ğŸ‘‰ ë°ì´í„°ë² ì´ìŠ¤ìì²´ / ìµìŠ¤í”Œë¡œì–´ ëª¨ë‹ˆí„°ë§ / ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸
```

---
