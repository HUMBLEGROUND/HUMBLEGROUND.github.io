---
layout: post
title: "[Blockchain] λ¨Έν΄ νΈλ¦¬ & λ¨Έν΄ ν¨νΈλ¦¬μƒ¤ νΈλ¦¬"
subtitle: λ¨Έν΄ νΈλ¦¬ / λ¨Έν΄ λ£¨νΈ / νΈλμ­μ… κ²€μ¦ / λ¨Έν΄ ν¨νΈλ¦¬μƒ¤ νΈλ¦¬ / μ‡„λ„ν¨κ³Ό
categories: blockchain
tags: [blockchain]
---

![](https://velog.velcdn.com/images/-__-/post/70b905df-e836-44be-8f7c-431dac4eaf2e/image.png)

### λ¨Έν΄ νΈλ¦¬ (Merkle tree)

- λ¨Έν΄ νΈλ¦¬λ” μΌλ ¨μ **'λ°μ΄ν„° λ¬΄κ²°μ„±'**μ„ <span style="background-color:#34CDEF; color:#000;">**ν¨κ³Όμ μΌλ΅ κ²€μ¦(μ¦λ…)**ν•λ” λ° μ‚¬μ©λλ” κµ¬μ΅°μ΄λ‹¤

- λ¨Έν΄ νΈλ¦¬ κµ¬μ΅°μ ν•µμ‹¬μ—λ” **'ν•΄μ‹ ν•¨μ'**κ°€ μλ‹¤

- λ¨Έν΄ νΈλ¦¬λ” λ°μ΄ν„°λ¥Ό **μ—¬λ¬ μ΅°κ°**μΌλ΅ λ‚λ„λ©° μƒμ„±λλ©°,

- **'λ¨Έν΄ λ£¨νΈ'**λ¥Ό ν•μ„±ν•κΈ° μ„ν•΄ **λ°λ³µμ μΌλ΅ ν•΄μ‹ν™”**λλ‹¤

- μ΄ν›„ λ°μ΄ν„° μ΅°κ°μ΄ μλ»λ κ²½μ°, μ΄λ¥Ό **ν¨μ¨μ μΌλ΅ κ²€μ¦(μμ •)**ν•  μ μλ‹¤

- ν° μ¥μ μ€ ν•μ„ νΈλ¦¬λ¥Ό **λ¶„μ„**ν•μ—¬ λ°μ΄ν„°κ°€ νΈλ¦¬ λ‚΄μ— μλ”μ§€ μ‰½κ² ν™•μΈν•  μ μλ‹¤

<hr>

### λ¨Έν΄ νΈλ¦¬μ λ™μ‘ μ›λ¦¬

- λ¨Έν΄ νΈλ¦¬λ΅ νμΌμ„ **'λ©μ–΄λ¦¬λ΅ λ¶„λ¦¬'** ν•λ‹¤

- ex) νμΌμ΄ 50GBμ€λ‹¤λ©΄, <u>100κ°μ μ΅°κ°</u>μΌλ΅ λ‚λ‰  μλ„ μλ‹¤

- μ΄λ ‡κ² μ΅°κ°λ‚Έλ‹¤λ©΄ ν• μ΅°κ°μ ν¬κΈ°λ” κ° 0.5GB κ°€ λλ‹¤

- μ΄ν›„ νμΌμ€ **'μ΅°κ°λ³„λ΅ λ‹¤μ΄λ΅λ“'** λλ‹¤<br>
  π‘‰ μ΄λ° ν•νƒμ λ‹¤μ΄λ΅λ“λ” <u>ν† λ νΈμ— νμΌμ„ κ³µμ ν•  λ•λ„ μ‚¬μ©λλ‹¤</u>

<hr>

### λ¨Έν΄ λ£¨νΈ(Merkle Root)

μ΄λ ‡κ² νμΌμ„ λ‹¤μ΄λ΅λ“ ν•λ©΄,<br>
μ΄ μλ£λ” <span style="background-color:#FFC701; color:#000;">**'λ¨Έν΄ λ£¨νΈ(Merkle Root)'**</span> λΌλ” **ν•΄μ‹**λ¥Ό μ κ³µν•λ‹¤

- λ‹¤μ΄λ΅λ“ ν•κ³ μ ν•λ” **νμΌμ ν•΄μ‹**κ°€ <u>κ°λ°μμ— μν•΄ κ³µκ°λ κ²ƒκ³Ό μΌμΉν•λ”μ§€</u> ν™•μΈν•΄μ•Ό ν•λ‹¤

- **λ‘ ν•΄μ‹κ°€ μΌμΉν•λ‹¤λ©΄**, μ»΄ν“¨ν„°μ— μ΅΄μ¬ν•λ” νμΌμ΄ κ°λ°μλ“¤μ κ²ƒκ³Ό **μ •ν™•ν μΌμΉ**ν•λ‹¤κ³  λ§ν•  μ μλ‹¤

- <span style="background-color:#FFC701; color:#000;">λ¨Έν΄λ£¨νΈκ°€ μ¤‘μ”ν• μ΄μ λ” <u>**λ°μ΄ν„° μ ν¨μ„±μ κ²€μ¦**</u> λ•λ¬Έμ΄λ‹¤</span>
  **(μ ν¨μ„± κ²€μ¦ μ†λ„λ” OLogβ‚‚N)**<br>
  π‘‰ **'λ¨Έν΄ λ£¨νΈ'** λ¥Ό μ‚¬μ©ν•λ©΄, ν›¨μ”¬ κ°„λ‹¨ν•κ² λ°μ΄ν„°λ¥Ό κ²€μ¦ν•  μ μλ‹¤

<hr>

- 8GB νμΌμ„ μ—¬λ μ΅°κ°μΌλ΅ λ‚λ  μ‚¬μ©ν•λ” κ²½μ°

![](https://velog.velcdn.com/images/-__-/post/d88dbba4-0883-49b1-b63f-b4022f7e0e9c/image.png)

- κ° μ΅°κ°λ“¤μ€ **'ν•΄μ‹ ν•¨μ'** λ¥Ό ν†µκ³Όν•μ—¬ 8κ°μ λ‹¤λ¥Έ **'ν•΄μ‹λ¥Ό μ κ³µ'**ν•λ‹¤ π‘†

![](https://velog.velcdn.com/images/-__-/post/98e135c6-f79d-4cbb-b653-283c23c4f251/image.png)

- <u>μ—¬λ κ° μ΅°κ°λ“¤μ ν•΄μ‹</u>λ“¤μ„ μ–»κΈ° μ„ν•΄ μ΄λ¥Ό <u>ν•΄μ‹ ν•¨μμ— **ν†µκ³Ό**</u>μ‹ν‚¨λ‹¤ π‘†

- μ΄λ ‡κ² μƒμ„±λ 8κ°μ ν•΄μ‹λ¥Ό <u>λ‹¤μ‹ 2κ°μ”© λ¬¶μ–΄ ν•΄μ‹±</u>ν•λ‹¤

π‘‰ hA + hB / hC + hD / hE + hF / hG + hH λ¥Ό ν•΄μ‹±ν•λ©΄,<br>
π‘‰ 4 κ°μ ν•΄μ‹ hAB / hCD / hEF / hGH λ¥Ό κ°€μ§€κ² λλ‹¤<br>
π‘‰ μ΄ λ°©μ‹μ„ λ°λ³µν•΄ <u>λ§μ§€λ§‰ ν•λ‚μ ν•΄μ‹</u>, <span style="background-color:#FFC701; color:#000;">**λ¨Έν΄ λ£¨νΈ(λ£¨νΈ ν•΄μ‹)**</span> λ¥Ό μ–»μ„ μ μλ‹¤

> λ§μ•½ <u>ν•΄μ‹κ°’μ΄ ν•λ‚λΌλ„ λ‹¤λ¥Έ κ°’</u>μ„ λ‚νƒ€λ‚Έλ‹¤λ©΄,<br>
> λ°μ΄ν„°κ°€ **'μ„λ³€μ΅°'**λμ—μ„ μ μλ‹¤κ³  ν™•μ‹ ν•  μ μλ‹¤<br>
> (λ°μ΄ν„°λ¥Ό μ΅°κΈλ§ μμ •ν•λ”λΌλ„ <u>μ „ν€ λ‹¤λ¥Έ λ¨Έν΄ λ£¨νΈ</u>λ¥Ό κ°€μ§€κ² λ¨)

> **'λ¨Έν΄ νΈλ¦¬'** λ¥Ό μ‚¬μ©μ¤‘μ— νμΌμ„ μ „μ†΅λ°›λ” κ³Όμ •μ—μ„ **'λ°μ΄ν„°μ— λ³€κ²½'**μ΄ μƒκ²Όλ‹¤λ©΄,<br>
> λ°μ΄ν„°μ— λ³€κ²½μ΄ μΌμ–΄λ‚ **νμΌ μ΅°κ°μ„ μ°Ύκ³ **,<br>
> **κ·Έ νμΌλ§ μƒλ΅­κ² λ‹¤μ΄λ΅λ“** λ°›μ„ μ μλ‹¤
>
> π‘‰ ex) μ„ κ·Έλ¦Όμ—μ„ **'hE'** μ— κ²°μ μ΄ μλ‹¤κ³  ν–μ„λ•,
>
> μ „λ‹¬λ°›μ€ λ‘ κ°μ ν•΄μ‹κ°’(hABCD / hEFGH) μ¤‘μ—μ„,<br>
> **'hEFGH'** μ— λ¬Έμ κ°€ μλ‹¤λ” κ²ƒμ„ ν™•μΈν•  μ μκ³ ,<br>
> λ§μ§€λ§‰μΌλ΅ **'hE'** λ¥Ό ν•΄μ‹ν• <u>νμΌ μ΅°κ°λ§ λ‹¤μ‹ λ‹¤μ΄λ΅λ“</u>ν•λ©΄,<br>
> νμΌ μ „μ†΅μ„ λ³΄λ‹¤ **ν¨μ¨μ **μΌλ΅ ν•  μ μκ² λλ‹¤

<hr>

### μ‡„λ„ ν¨κ³Ό(avalanche effect)

<span style="background-color:#F7969A; color:#000;">**ν•λ‚**μ νΈλμ­μ…μ΄ λ³€μ΅°λλ©΄ λ¨Έν΄ λ£¨νΈκΉμ§€ **λ¨λ“  κ°’**μ΄ λ°”λ€κ² λλ‹¤</span>

μ΄λ¬ν• ν„μƒμ„ **'μ‡„λ„ ν¨κ³Ό(avalanche effect)'**λΌκ³  ν•λ‹¤

![](https://velog.velcdn.com/images/-__-/post/96da68ff-6ec6-4b93-be14-fcd0da866e47/image.png)

<hr>

### νΈλμ­μ… κ²€μ¦

λ¨λ“  λΈ”λ΅μ νΈλμ­μ…μ„ λ‹¤μ΄λ΅λ“ν•κ³  **'ν•΄μ‹ν™”'** ν•κ³  μ‹¶μ§€ μ•μ„ μ μλ‹¤

- ν’€ λ…Έλ“λ΅λ¶€ν„° <u>νΈλμ­μ…μ΄ νΉμ • λΈ”λ΅ μ•μ— μμ</u>μ„ μ…μ¦ν•λ” μ¦κ±°μΈ λ¨Έν΄ μ¦λ…μ„ μ”μ²­ν•  μ μλ‹¤
- μ΄λ¥Ό <span style="background-color:#F7969A; color:#000;">**λ‹¨μν™”λ κ²°μ  κ²€μ¦** </span>**(SPV, Simplified Payment Verification)** λΌκ³  ν•λ‹¤

![](https://velog.velcdn.com/images/-__-/post/b0a9199f-9470-44b7-9063-122dcd2df94d/image.png)

> TXIDκ°€ **β€hDβ€™**μΈ νΈλμ­μ…μ΄ μ΄ λΈ”λ΅ μ•μ— ν¬ν•¨λμ–΄ μλ”μ§€λ¥Ό **λ¨Έν΄νΈλ¦¬**λ¥Ό μ‚¬μ©ν•΄ κ²€μ¦ν•λ” μμ‹ π‘†

`1. hD μ™€ κ°™μ€ μ²­ν¬λ΅ λ¬¶μΈ hC λ¥Ό κ°€μ Έμ¤κ³ `<br>
`2. hABCD λ¥Ό κ³„μ‚°ν•κΈ° μ„ν•΄ hAB λ„ κ°€μ Έμ¨λ‹¤`<br>
`3. hAB μ™€ hCD λ¥Ό μ‚¬μ©ν•΄ hABCD λ¥Ό κµ¬ν•κ³ `<br>
`4. λ¨Έν΄λ£¨νΈμΈ hABCDEFGH λ¥Ό κ³„μ‚°ν•κΈ° μ„ν•΄ hEFGH λ¥Ό κ°€μ Έμ¨λ‹¤`<br>
`5. hABCD μ™€ hEFGH λ¥Ό μ‚¬μ©ν•΄ hABCDEFGH λ¥Ό κµ¬ν•λ‹¤`

π‘‰ **'hABCDEFGH'** μ κ°’μ΄ μ‹¤μ  **λΈ”λ΅ν—¤λ”**μ— μ €μ¥λ λ¨Έν΄λ£¨νΈ κ°’κ³Ό κ°™λ‹¤λ©΄,<br>
π‘‰ ν•΄λ‹Ή νΈλμ­μ…μ΄ λΈ”λ΅μ— ν¬ν•¨λμ–΄ μλ‹¤λ” κ²ƒμ„ μλ―Έν•λ‹¤

(λ¨Έν΄ νΈλ¦¬κ°€ μ—†μ—λ‹¤λ©΄ **'7λ²'**μ„ μ§„ν–‰ν•΄μ•Ό ν–μ„ κ²ƒμ„ **'3λ²'**λ§μ— κ²€μ¦ν–λ‹¤)

π‘‰ λΈ”λ΅μ—λ” <u>μμ² κ°μ νΈλμ­μ…</u>μ΄ ν¬ν•¨λκΈ° λ•λ¬Έμ—,<br>
π‘‰ λ¨Έν΄ μ¦λ…μ„ μ‚¬μ©ν•λ©΄ **μƒλ‹Ήν• μ‹κ°„**κ³Ό μ»΄ν“¨ν„° μμ›μ΄ **μ μ•½**λλ‹¤

<hr>

### λ¨Έν΄ ν¨νΈλ¦¬μƒ¤ νΈλ¦¬(Merkle Patricia Tree)

**'μ΄λ”λ¦¬μ›€'** μ—μ„λ” <u>λ¨λ“  νΈλμ­μ…μ μ™„μ „ν• λ¨λΈ</u>μ„ λ§λ“¤κΈ° μ„ν•΄<br>
**λ¨Έν΄ ν¨νΈλ¦¬μƒ¤ νΈλ¦¬ Merkle-Patricia-Tree (trie)** λ°©λ²•μ„ μ‚¬μ©ν•λ‹¤

- λ¨Έν΄-ν¨νΈλ¦¬μƒ¤λ” μ—°κ΄€ λ°°μ—΄μ„ μ €μ¥ν•κΈ° μ„ν•΄ **'ν‚¤'π”‘** (μΌλ°μ μΌλ΅ λ¬Έμμ—΄λ΅ μ •μλ¨) λ¥Ό μ‚¬μ©ν•μ—¬ μ΄λ¥Ό ν–¥μƒμ‹ν‚¨λ‹¤
- **λ…Έλ“λ” ν‚¤π”‘μ™€ μ—°κ²°λλ‹¤**
- μ΄κ²ƒμ€ 'λ””μ§€ν„Έ νΈλ¦¬'μΈ **'νΈλΌμ΄(trie)'**λ΅ μ •μλλ‹¤
- μ΄κ²ƒμ€ κ° λ…Έλ“μ μ‹¤μ  'ν‚¤π”‘'κ°€ μ €μ¥λμ§€ μ•μ§€λ§
- νΈλ¦¬μ—μ„μ μ„μΉκ°€ 'ν‚¤π”‘'λ¥Ό μ •μν•λ” λ° μ‚¬μ©λλ‹¤λ” μ μ—μ„ <γ…΅> λ¨Έν΄ νΈλ¦¬μ™€ λ‹¤λ¥΄λ‹¤

### λ¨Έν΄ ν¨νΈλ¦¬μƒ¤ νΈλ¦¬ νΉμ§•

- μ΄λ”λ¦¬μ›€μ μ „μ—­μƒνƒλ” <u>κ³„μ • μ£Όμ†μ™€ κ³„μ • μƒνƒλ¥Ό λ§¤ν•‘</u>ν• κ²ƒμΌλ΅ κµ¬μ„±λμ–΄ μλ‹¤
- λ¶€λ¨ λ…Έλ“λ” **'λ‘ μμ‹ λ…Έλ“λ¥Ό λ¨μ•„'** ν•΄μ‹±ν• κ°’μ„ κ°€μ§„λ‹¤
- μμ‹ λ…Έλ“μ κ°’μ΄ **'μ΅°κΈμ΄λΌλ„ λ°”λ€λ©΄'** λ¶€λ¨ λ…Έλ“μ κ°’λ„ λ°”λ€λ‹¤
- μ΄λ”λ¦¬μ›€ λΈ”λ΅ ν—¤λ”λ” μƒνƒνΈλ¦¬ / νΈλμ­μ… νΈλ¦¬ / μμμ¦ νΈλ¦¬
  μ„Έ νΈλ¦¬μ **λ£¨νΈ λ…Έλ“ ν•΄μ‹κ°’μ΄ μ €μ¥**λμ–΄ μλ‹¤
- λΈ”λ΅ ν—¤λ”μ— λ£¨νΈ λ…Έλ“λ“¤μ κ°’μ„ κ°€μ§€κ³  μμ§€λ§,
  μ΄λ”λ¦¬μ›€μ **'μƒνƒ μΌλ¶€λ¶„μ„ κ²€μ¦'** ν•  μ μλ‹¤
- νΈλ¦¬ **'λ§¨ μ•„λ'**μ— μλ” λ…Έλ“λ“¤μ€ λ°μ΄ν„°λ¥Ό κ°€μ§€κ³  μλ‹¤

---
