---
layout: post
title: "[React] useEffect"
subtitle: React Hook / useEffect( )
categories: React
tags: [ë¦¬ì•¡íŠ¸]
---

![](https://velog.velcdn.com/images/-__-/post/90e2a691-8c6c-4927-947e-c1dff91e27d7/image.png)

### useEffect()

- useEffect ë€ ì½”ë“œë¥¼ ì–¸ì œ ì‹¤í–‰í• ì§€ ì„ íƒí•˜ëŠ” ê²ƒ

- useEffect() ëŠ” React componentê°€ **ìƒˆë¡œê³ ì¹¨(ë Œë”ë§) ë  ë•Œë§ˆë‹¤** íŠ¹ì • ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë¦¬ì•¡íŠ¸ Hookì´ë‹¤

- ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤

---

### useEffect í•¨ìˆ˜ ë¶ˆëŸ¬ì˜¤ê¸°

`import React, { useEffect } from "react";`

---

### Componentê°€ ì‹¤í–‰ë  ë•Œ (ë‚˜íƒ€ë‚  ë•Œ)

```js
useEffect(() => {
  console.log("ìƒˆë¡œê³ ì¹¨ ë ë•Œë§ˆë‹¤ ì‹¤í–‰");
});
```

> ğŸ‘† ìƒˆë¡œê³ ì¹¨ ë ë•Œë§ˆë‹¤ ì‹¤í–‰

---

```js
useEffect(() => {
  console.log("ë§¨ ì²˜ìŒ ì‹¤í–‰ë  ë•Œ í•œ ë²ˆë§Œ ì‹¤í–‰");
}, []);
```

> ğŸ‘† ìƒˆë¡œê³ ì¹¨í• ë•Œë§ˆë‹¤ ìµœì´ˆ í•œë²ˆë§Œ ì‹¤í–‰í•˜ê³  ìƒˆë¡œê³ ì¹¨ ì „ê¹Œì§„ ì‹¤í–‰ë ì¼ì´ ì—†ìŒ

---

### Componentê°€ Update ë˜ì—ˆì„ ë•Œ (props, state ë³€ê²½)

```js
useEffect(() => {
  console.log(effect); // ìƒˆë¡œê³ ì¹¨í• ë•Œë§ˆë‹¤ ìµœì´ˆ í•œë²ˆë§Œ ì‹¤í–‰í•˜ê³ 
  console.log("effectì´ë¼ëŠ” ê°’ì´ ì—…ë°ì´íŠ¸ ë  ë•Œë§Œ ì‹¤í–‰");
}, [effect]); // effect ë§Œ ì§€ì¼œë³¸ë‹¤ëŠ” ëœ» / effect ê°€ Updateë ë•Œë§ˆë‹¤ ì‹¤í–‰ëœë‹¤
```

> ğŸ‘† ì²˜ìŒ í•œë²ˆ ì‹¤í–‰í•˜ê³  ê·¸ ì´í›„ë¡œëŠ” Update ë ë•Œë§Œ ì‹¤í–‰

---

### ì˜ˆì œì½”ë“œ

```js
import { useState, useEffect } from "react";

function App() {
  const [counter, setCounter] = useState(0); // ê¸°ë³¸ê°’ì€ 0
  const [keyword, setKeyword] = useState(""); // ê¸°ë³¸ê°’ì€ ë¹ˆë°°ì—´

  const onClicks = () => setCounter((current) => current + 1); // ë²„íŠ¼ì„ í´ë¦­í• ë•Œë§ˆë‹¤ 1ì”© ì¦ê°€

  const onChanges = (e) => setKeyword(e.target.value); // input ì°½ì— íƒ€ìë¥¼ ì¹ ë•Œë§ˆë‹¤ ë°¸ë¥˜ë¥¼ ì¸ì‹
  console.log("I run all the time"); // ë²„íŠ¼, íƒ€ìì¹ ë•Œë§ˆë‹¤ ë¬¸êµ¬ë¥¼ consolì— ì¶œë ¥

  // useEffect ë€ ì½”ë“œë¥¼ ì–¸ì œ ì‹¤í–‰í• ì§€ ì„ íƒí•˜ëŠ” ê²ƒ
  useEffect(() => {
    console.log("I First one"); // ìƒˆë¡œê³ ì¹¨í• ë•Œë§ˆë‹¤ ìµœì´ˆ í•œë²ˆë§Œ ì‹¤í–‰í•˜ê³  ìƒˆë¡œê³ ì¹¨ ì „ê¹Œì§„ ì‹¤í–‰ë ì¼ì´ ì—†ìŒ
  }, []);

  useEffect(() => {
    console.log("I Keyword changes"); // ìƒˆë¡œê³ ì¹¨í• ë•Œë§ˆë‹¤ ìµœì´ˆ í•œë²ˆë§Œ ì‹¤í–‰í•˜ê³ 
  }, [keyword]); // keyword ë§Œ ì§€ì¼œë³¸ë‹¤ëŠ” ëœ» / íƒ€ìë¥¼ ì¹ ë•Œë§ˆë‹¤ ì‹¤í–‰ëœë‹¤

  useEffect(() => {
    console.log("I counter changes"); // ìƒˆë¡œê³ ì¹¨í• ë•Œë§ˆë‹¤ ìµœì´ˆ í•œë²ˆë§Œ ì‹¤í–‰í•˜ê³ 
  }, [counter]); // counter ë§Œ ì§€ì¼œë³¸ë‹¤ëŠ” ëœ» / ë²„íŠ¼ì„ ëˆ„ë¥¼ë•Œ ë§ˆë‹¤ ì‹¤í–‰ëœë‹¤

  return (
    <body>
      <input
        value={keyword}
        onChange={onChanges}
        type="text"
        placeholder="next.."
      />
      <h1>{counter}</h1>
      <button onClick={onClicks}>Click Me</button>
    </body>
  );
}

export default App;
```

---
